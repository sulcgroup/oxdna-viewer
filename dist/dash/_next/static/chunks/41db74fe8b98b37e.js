(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,21318,e=>{"use strict";var r=e.i(90425),t=e.i(38898),o=e.i(76832);let n=t.forwardRef(({className:e,...t},n)=>(0,r.jsx)("textarea",{className:(0,o.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));n.displayName="Textarea",e.s(["Textarea",()=>n])},47572,e=>{"use strict";var r=e.i(90425),t=e.i(38898),o=e.i(69496);let n=e=>e?/^[0-9,\s]*$/.test(e)?e.split(",").map(e=>parseInt(e.trim(),10)).filter(e=>!isNaN(e)):(console.warn("Invalid characters in nucleotideIndexes. Aborting script generation."),[]):[];function a({topFile:e,datFile:a,nucleotideIndexes0:i,nucleotideIndexes1:s,height:l="500px",postLoadCommand:d}){let c=(0,t.useRef)(null);return(0,t.useEffect)(()=>{let r=c.current;if(!r?.contentWindow)return;let t=()=>{let t=[{file:e,ext:"top"},{file:a,ext:"dat"}],o=t.map(e=>new Blob([e.file],{type:"text/plain"})),l=t.map(e=>e.ext),c=[],m=n(i);m.length>0&&c.push(`colorElements(new THREE.Color(1, 0, 0), api.getElements([${m.join(",")}]))`);let u=n(s);if(u.length>0&&c.push(`colorElements(new THREE.Color(0, 0, 1), api.getElements([${u.join(",")}]))`),d&&c.push(d),c.length>0){let e=c.join(";\n");o.push(new Blob([e],{type:"application/javascript"})),l.push("js")}r.contentWindow?.postMessage({message:"iframe_drop",files:o,ext:l,inbox_settings:["Monomer","Origin"]},"/")};return r.addEventListener("load",t),()=>{r.removeEventListener("load",t)}},[e,a,i,s,d,c]),(0,r.jsxs)(o.Card,{className:"mt-4",children:[(0,r.jsx)(o.CardHeader,{children:(0,r.jsx)(o.CardTitle,{children:"Structure Preview"})}),(0,r.jsx)(o.CardContent,{children:(0,r.jsx)("iframe",{ref:c,src:"/",width:"100%",height:l,style:{border:"1px solid hsl(var(--border))"},title:"oxDNA Viewer"})})]})}e.s(["OxViewPreview",()=>a])},76930,e=>{"use strict";let r=(0,e.i(93783).default)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);e.s(["Send",()=>r],76930)},69496,e=>{"use strict";var r=e.i(90425),t=e.i(38898),o=e.i(76832);let n=t.forwardRef(({className:e,...t},n)=>(0,r.jsx)("div",{ref:n,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));n.displayName="Card";let a=t.forwardRef(({className:e,...t},n)=>(0,r.jsx)("div",{ref:n,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",e),...t}));a.displayName="CardHeader";let i=t.forwardRef(({className:e,...t},n)=>(0,r.jsx)("div",{ref:n,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));i.displayName="CardTitle";let s=t.forwardRef(({className:e,...t},n)=>(0,r.jsx)("div",{ref:n,className:(0,o.cn)("text-sm text-muted-foreground",e),...t}));s.displayName="CardDescription";let l=t.forwardRef(({className:e,...t},n)=>(0,r.jsx)("div",{ref:n,className:(0,o.cn)("p-6 pt-0",e),...t}));l.displayName="CardContent";let d=t.forwardRef(({className:e,...t},n)=>(0,r.jsx)("div",{ref:n,className:(0,o.cn)("flex items-center p-6 pt-0",e),...t}));d.displayName="CardFooter",e.s(["Card",()=>n,"CardContent",()=>l,"CardDescription",()=>s,"CardFooter",()=>d,"CardHeader",()=>a,"CardTitle",()=>i])},3460,e=>{"use strict";function r(e,[r,t]){return Math.min(t,Math.max(r,e))}e.s(["clamp",()=>r])},60031,e=>{"use strict";var r=e.i(90425),t=e.i(38898),o=e.i(36063),n=t.forwardRef((e,t)=>(0,r.jsx)(o.Primitive.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));n.displayName="Label";var a=e.i(88177),i=e.i(76832);let s=(0,a.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=t.forwardRef(({className:e,...t},o)=>(0,r.jsx)(n,{ref:o,className:(0,i.cn)(s(),e),...t}));l.displayName=n.displayName,e.s(["Label",()=>l],60031)},72296,e=>{"use strict";var r=e.i(90425),t=e.i(38898),o=e.i(67684),n=e.i(22332),a=e.i(89978),i=e.i(57612),s=e.i(7992),l=e.i(84240),d=e.i(36063),c="Switch",[m,u]=(0,a.createContextScope)(c),[p,h]=m(c),x=t.forwardRef((e,a)=>{let{__scopeSwitch:s,name:l,checked:m,defaultChecked:u,required:h,disabled:x,value:f="on",onCheckedChange:j,form:v,...y}=e,[F,C]=t.useState(null),w=(0,n.useComposedRefs)(a,e=>C(e)),N=t.useRef(!1),I=!F||v||!!F.closest("form"),[S,R]=(0,i.useControllableState)({prop:m,defaultProp:u??!1,onChange:j,caller:c});return(0,r.jsxs)(p,{scope:s,checked:S,disabled:x,children:[(0,r.jsx)(d.Primitive.button,{type:"button",role:"switch","aria-checked":S,"aria-required":h,"data-state":g(S),"data-disabled":x?"":void 0,disabled:x,value:f,...y,ref:w,onClick:(0,o.composeEventHandlers)(e.onClick,e=>{R(e=>!e),I&&(N.current=e.isPropagationStopped(),N.current||e.stopPropagation())})}),I&&(0,r.jsx)(b,{control:F,bubbles:!N.current,name:l,value:f,checked:S,required:h,disabled:x,form:v,style:{transform:"translateX(-100%)"}})]})});x.displayName=c;var f="SwitchThumb",j=t.forwardRef((e,t)=>{let{__scopeSwitch:o,...n}=e,a=h(f,o);return(0,r.jsx)(d.Primitive.span,{"data-state":g(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});j.displayName=f;var b=t.forwardRef(({__scopeSwitch:e,control:o,checked:a,bubbles:i=!0,...d},c)=>{let m=t.useRef(null),u=(0,n.useComposedRefs)(m,c),p=(0,s.usePrevious)(a),h=(0,l.useSize)(o);return t.useEffect(()=>{let e=m.current;if(!e)return;let r=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(p!==a&&r){let t=new Event("click",{bubbles:i});r.call(e,a),e.dispatchEvent(t)}},[p,a,i]),(0,r.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...d,tabIndex:-1,ref:u,style:{...d.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function g(e){return e?"checked":"unchecked"}b.displayName="SwitchBubbleInput";var v=e.i(76832);let y=t.forwardRef(({className:e,...t},o)=>(0,r.jsx)(x,{className:(0,v.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-gray-300 transition-all duration-200 ease-in-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input hover:shadow-md hover:scale-105 data-[state=checked]:shadow-lg data-[state=checked]:shadow-primary/25",e),...t,ref:o,children:(0,r.jsx)(j,{className:(0,v.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-all duration-200 ease-in-out data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0 data-[state=checked]:shadow-xl border border-gray-300")})}));y.displayName=x.displayName,e.s(["Switch",()=>y],72296)},52762,32206,e=>{"use strict";var r=e.i(90425),t=e.i(38898),o=e.i(67684),n=e.i(22332),a=e.i(89978),i=e.i(36063),s=e.i(45426),l=e.i(57612),d=e.i(190),c=e.i(84240),m=e.i(7992),u=e.i(51187),p="Radio",[h,x]=(0,a.createContextScope)(p),[f,j]=h(p),b=t.forwardRef((e,a)=>{let{__scopeRadio:s,name:l,checked:d=!1,required:c,disabled:m,value:u="on",onCheck:p,form:h,...x}=e,[j,b]=t.useState(null),g=(0,n.useComposedRefs)(a,e=>b(e)),v=t.useRef(!1),C=!j||h||!!j.closest("form");return(0,r.jsxs)(f,{scope:s,checked:d,disabled:m,children:[(0,r.jsx)(i.Primitive.button,{type:"button",role:"radio","aria-checked":d,"data-state":F(d),"data-disabled":m?"":void 0,disabled:m,value:u,...x,ref:g,onClick:(0,o.composeEventHandlers)(e.onClick,e=>{d||p?.(),C&&(v.current=e.isPropagationStopped(),v.current||e.stopPropagation())})}),C&&(0,r.jsx)(y,{control:j,bubbles:!v.current,name:l,value:u,checked:d,required:c,disabled:m,form:h,style:{transform:"translateX(-100%)"}})]})});b.displayName=p;var g="RadioIndicator",v=t.forwardRef((e,t)=>{let{__scopeRadio:o,forceMount:n,...a}=e,s=j(g,o);return(0,r.jsx)(u.Presence,{present:n||s.checked,children:(0,r.jsx)(i.Primitive.span,{"data-state":F(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t})})});v.displayName=g;var y=t.forwardRef(({__scopeRadio:e,control:o,checked:a,bubbles:s=!0,...l},d)=>{let u=t.useRef(null),p=(0,n.useComposedRefs)(u,d),h=(0,m.usePrevious)(a),x=(0,c.useSize)(o);return t.useEffect(()=>{let e=u.current;if(!e)return;let r=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(h!==a&&r){let t=new Event("click",{bubbles:s});r.call(e,a),e.dispatchEvent(t)}},[h,a,s]),(0,r.jsx)(i.Primitive.input,{type:"radio","aria-hidden":!0,defaultChecked:a,...l,tabIndex:-1,ref:p,style:{...l.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function F(e){return e?"checked":"unchecked"}y.displayName="RadioBubbleInput";var C=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],w="RadioGroup",[N,I]=(0,a.createContextScope)(w,[s.createRovingFocusGroupScope,x]),S=(0,s.createRovingFocusGroupScope)(),R=x(),[k,_]=N(w),T=t.forwardRef((e,t)=>{let{__scopeRadioGroup:o,name:n,defaultValue:a,value:c,required:m=!1,disabled:u=!1,orientation:p,dir:h,loop:x=!0,onValueChange:f,...j}=e,b=S(o),g=(0,d.useDirection)(h),[v,y]=(0,l.useControllableState)({prop:c,defaultProp:a??null,onChange:f,caller:w});return(0,r.jsx)(k,{scope:o,name:n,required:m,disabled:u,value:v,onValueChange:y,children:(0,r.jsx)(s.Root,{asChild:!0,...b,orientation:p,dir:g,loop:x,children:(0,r.jsx)(i.Primitive.div,{role:"radiogroup","aria-required":m,"aria-orientation":p,"data-disabled":u?"":void 0,dir:g,...j,ref:t})})})});T.displayName=w;var D="RadioGroupItem",A=t.forwardRef((e,a)=>{let{__scopeRadioGroup:i,disabled:l,...d}=e,c=_(D,i),m=c.disabled||l,u=S(i),p=R(i),h=t.useRef(null),x=(0,n.useComposedRefs)(a,h),f=c.value===d.value,j=t.useRef(!1);return t.useEffect(()=>{let e=e=>{C.includes(e.key)&&(j.current=!0)},r=()=>j.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",r),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",r)}},[]),(0,r.jsx)(s.Item,{asChild:!0,...u,focusable:!m,active:f,children:(0,r.jsx)(b,{disabled:m,required:c.required,checked:f,...p,...d,name:c.name,ref:x,onCheck:()=>c.onValueChange(d.value),onKeyDown:(0,o.composeEventHandlers)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,o.composeEventHandlers)(d.onFocus,()=>{j.current&&h.current?.click()})})})});A.displayName=D;var M=t.forwardRef((e,t)=>{let{__scopeRadioGroup:o,...n}=e,a=R(o);return(0,r.jsx)(v,{...a,...n,ref:t})});M.displayName="RadioGroupIndicator";var P=e.i(35561),E=e.i(76832);let L=t.forwardRef(({className:e,...t},o)=>(0,r.jsx)(T,{className:(0,E.cn)("grid gap-2",e),...t,ref:o}));L.displayName=T.displayName;let V=t.forwardRef(({className:e,...t},o)=>(0,r.jsx)(A,{ref:o,className:(0,E.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:(0,r.jsx)(M,{className:"flex items-center justify-center",children:(0,r.jsx)(P.Circle,{className:"h-2.5 w-2.5 fill-current text-current"})})}));V.displayName=A.displayName,e.s(["RadioGroup",()=>L,"RadioGroupItem",()=>V],52762);var O=e.i(11337),H=e.i(55124),U=e.i(11790),B="Collapsible",[$,q]=(0,a.createContextScope)(B),[G,z]=$(B),K=t.forwardRef((e,o)=>{let{__scopeCollapsible:n,open:a,defaultOpen:s,disabled:d,onOpenChange:c,...m}=e,[u,p]=(0,l.useControllableState)({prop:a,defaultProp:s??!1,onChange:c,caller:B});return(0,r.jsx)(G,{scope:n,disabled:d,contentId:(0,U.useId)(),open:u,onOpenToggle:t.useCallback(()=>p(e=>!e),[p]),children:(0,r.jsx)(i.Primitive.div,{"data-state":Q(u),"data-disabled":d?"":void 0,...m,ref:o})})});K.displayName=B;var J="CollapsibleTrigger",W=t.forwardRef((e,t)=>{let{__scopeCollapsible:n,...a}=e,s=z(J,n);return(0,r.jsx)(i.Primitive.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":Q(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...a,ref:t,onClick:(0,o.composeEventHandlers)(e.onClick,s.onOpenToggle)})});W.displayName=J;var Y="CollapsibleContent",X=t.forwardRef((e,t)=>{let{forceMount:o,...n}=e,a=z(Y,e.__scopeCollapsible);return(0,r.jsx)(u.Presence,{present:o||a.open,children:({present:e})=>(0,r.jsx)(Z,{...n,ref:t,present:e})})});X.displayName=Y;var Z=t.forwardRef((e,o)=>{let{__scopeCollapsible:a,present:s,children:l,...d}=e,c=z(Y,a),[m,u]=t.useState(s),p=t.useRef(null),h=(0,n.useComposedRefs)(o,p),x=t.useRef(0),f=x.current,j=t.useRef(0),b=j.current,g=c.open||m,v=t.useRef(g),y=t.useRef(void 0);return t.useEffect(()=>{let e=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,H.useLayoutEffect)(()=>{let e=p.current;if(e){y.current=y.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";let r=e.getBoundingClientRect();x.current=r.height,j.current=r.width,v.current||(e.style.transitionDuration=y.current.transitionDuration,e.style.animationName=y.current.animationName),u(s)}},[c.open,s]),(0,r.jsx)(i.Primitive.div,{"data-state":Q(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!g,...d,ref:h,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":b?`${b}px`:void 0,...e.style},children:g&&l})});function Q(e){return e?"open":"closed"}var ee="Accordion",er=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[et,eo,en]=(0,O.createCollection)(ee),[ea,ei]=(0,a.createContextScope)(ee,[en,q]),es=q(),el=t.default.forwardRef((e,t)=>{let{type:o,...n}=e;return(0,r.jsx)(et.Provider,{scope:e.__scopeAccordion,children:"multiple"===o?(0,r.jsx)(eh,{...n,ref:t}):(0,r.jsx)(ep,{...n,ref:t})})});el.displayName=ee;var[ed,ec]=ea(ee),[em,eu]=ea(ee,{collapsible:!1}),ep=t.default.forwardRef((e,o)=>{let{value:n,defaultValue:a,onValueChange:i=()=>{},collapsible:s=!1,...d}=e,[c,m]=(0,l.useControllableState)({prop:n,defaultProp:a??"",onChange:i,caller:ee});return(0,r.jsx)(ed,{scope:e.__scopeAccordion,value:t.default.useMemo(()=>c?[c]:[],[c]),onItemOpen:m,onItemClose:t.default.useCallback(()=>s&&m(""),[s,m]),children:(0,r.jsx)(em,{scope:e.__scopeAccordion,collapsible:s,children:(0,r.jsx)(ej,{...d,ref:o})})})}),eh=t.default.forwardRef((e,o)=>{let{value:n,defaultValue:a,onValueChange:i=()=>{},...s}=e,[d,c]=(0,l.useControllableState)({prop:n,defaultProp:a??[],onChange:i,caller:ee}),m=t.default.useCallback(e=>c((r=[])=>[...r,e]),[c]),u=t.default.useCallback(e=>c((r=[])=>r.filter(r=>r!==e)),[c]);return(0,r.jsx)(ed,{scope:e.__scopeAccordion,value:d,onItemOpen:m,onItemClose:u,children:(0,r.jsx)(em,{scope:e.__scopeAccordion,collapsible:!0,children:(0,r.jsx)(ej,{...s,ref:o})})})}),[ex,ef]=ea(ee),ej=t.default.forwardRef((e,a)=>{let{__scopeAccordion:s,disabled:l,dir:c,orientation:m="vertical",...u}=e,p=t.default.useRef(null),h=(0,n.useComposedRefs)(p,a),x=eo(s),f="ltr"===(0,d.useDirection)(c),j=(0,o.composeEventHandlers)(e.onKeyDown,e=>{if(!er.includes(e.key))return;let r=e.target,t=x().filter(e=>!e.ref.current?.disabled),o=t.findIndex(e=>e.ref.current===r),n=t.length;if(-1===o)return;e.preventDefault();let a=o,i=n-1,s=()=>{(a=o+1)>i&&(a=0)},l=()=>{(a=o-1)<0&&(a=i)};switch(e.key){case"Home":a=0;break;case"End":a=i;break;case"ArrowRight":"horizontal"===m&&(f?s():l());break;case"ArrowDown":"vertical"===m&&s();break;case"ArrowLeft":"horizontal"===m&&(f?l():s());break;case"ArrowUp":"vertical"===m&&l()}let d=a%n;t[d].ref.current?.focus()});return(0,r.jsx)(ex,{scope:s,disabled:l,direction:c,orientation:m,children:(0,r.jsx)(et.Slot,{scope:s,children:(0,r.jsx)(i.Primitive.div,{...u,"data-orientation":m,ref:h,onKeyDown:l?void 0:j})})})}),eb="AccordionItem",[eg,ev]=ea(eb),ey=t.default.forwardRef((e,t)=>{let{__scopeAccordion:o,value:n,...a}=e,i=ef(eb,o),s=ec(eb,o),l=es(o),d=(0,U.useId)(),c=n&&s.value.includes(n)||!1,m=i.disabled||e.disabled;return(0,r.jsx)(eg,{scope:o,open:c,disabled:m,triggerId:d,children:(0,r.jsx)(K,{"data-orientation":i.orientation,"data-state":eR(c),...l,...a,ref:t,disabled:m,open:c,onOpenChange:e=>{e?s.onItemOpen(n):s.onItemClose(n)}})})});ey.displayName=eb;var eF="AccordionHeader",eC=t.default.forwardRef((e,t)=>{let{__scopeAccordion:o,...n}=e,a=ef(ee,o),s=ev(eF,o);return(0,r.jsx)(i.Primitive.h3,{"data-orientation":a.orientation,"data-state":eR(s.open),"data-disabled":s.disabled?"":void 0,...n,ref:t})});eC.displayName=eF;var ew="AccordionTrigger",eN=t.default.forwardRef((e,t)=>{let{__scopeAccordion:o,...n}=e,a=ef(ee,o),i=ev(ew,o),s=eu(ew,o),l=es(o);return(0,r.jsx)(et.ItemSlot,{scope:o,children:(0,r.jsx)(W,{"aria-disabled":i.open&&!s.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...l,...n,ref:t})})});eN.displayName=ew;var eI="AccordionContent",eS=t.default.forwardRef((e,t)=>{let{__scopeAccordion:o,...n}=e,a=ef(ee,o),i=ev(eI,o),s=es(o);return(0,r.jsx)(X,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...s,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});function eR(e){return e?"open":"closed"}eS.displayName=eI;var ek=e.i(58576);let e_=t.forwardRef(({className:e,...t},o)=>(0,r.jsx)(ey,{ref:o,className:(0,E.cn)("border-b",e),...t}));e_.displayName="AccordionItem";let eT=t.forwardRef(({className:e,children:t,...o},n)=>(0,r.jsx)(eC,{className:"flex",children:(0,r.jsxs)(eN,{ref:n,className:(0,E.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...o,children:[t,(0,r.jsx)(ek.ChevronDown,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));eT.displayName=eN.displayName;let eD=t.forwardRef(({className:e,children:t,...o},n)=>(0,r.jsx)(eS,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...o,children:(0,r.jsx)("div",{className:(0,E.cn)("pb-4 pt-0",e),children:t})}));eD.displayName=eS.displayName,e.s(["Accordion",()=>el,"AccordionContent",()=>eD,"AccordionItem",()=>e_,"AccordionTrigger",()=>eT],32206)},37056,e=>{"use strict";var r=e.i(90425),t=e.i(38898),o=e.i(84064),n=e.i(55397),a=e.i(56185),i=e.i(90953),s=e.i(80559),l=e.i(89882),d=e.i(44187),c=e.i(72296),m=e.i(52762),u=e.i(81775),p=e.i(32206),h=e.i(21318),x=e.i(3614),f=e.i(91493),j=e.i(42792),b=e.i(22348),g=e.i(76930),v=e.i(69496),y=e.i(4126),F=e.i(82082),C=e.i(47572);let w=["T","simulation_type","backend","steps","conf_int","dt","interaction_type","salt_concentration","verlet_skin","use_average_seq","max_backbone_force","seed","thermostat","delta_translation","delta_rotation","mismatch_repulsion","mismatch_repulsion_strength"],N=a.object({jobName:a.string().optional(),topology:a.any().refine(e=>e instanceof File,"Topology file is required."),configuration:a.any().refine(e=>e instanceof File,"Configuration file is required."),priority:a.coerce.number().int(),maxTime:a.coerce.number().int(),simulationType:a.enum(["MD","MC"],{required_error:"You must select a simulation type."}),gpu:a.boolean(),steps:a.coerce.number().positive("Steps must be a positive number."),confInterval:a.coerce.number().positive("Configuration interval must be positive."),dt:a.coerce.number().positive("dt must be positive."),interactionType:a.coerce.number().int().min(0),hBondRestraint:a.boolean(),hBondRestraintValue:a.coerce.number().positive("Stiffness must be positive."),T:a.string().min(1,"Temperature is required."),saltConc:a.coerce.number().min(0,"Salt concentration cannot be negative."),forceFile:a.any().optional(),verletSkin:a.coerce.number().min(0),override:a.string().optional(),use_average_seq:a.boolean().optional(),max_backbone_force:a.coerce.number().optional(),seed:a.coerce.number().int().optional(),thermostat:a.string().optional(),delta_translation:a.coerce.number().optional(),delta_rotation:a.coerce.number().optional(),mismatch_repulsion:a.boolean().optional(),mismatch_repulsion_strength:a.coerce.number().optional()}).superRefine((e,r)=>{if(e.override)for(let t of e.override.split("\n")){let e=t.trim();if(e.startsWith("#")||""===e)continue;let o=e.split("=").map(e=>e.trim())[0];if(w.includes(o))return void r.addIssue({code:i.ZodIssueCode.custom,path:["override"],message:`Parameter "${o}" is already managed by a form field. Please remove it from Additional Parameters.`})}});function I({initialTopologyFile:e,initialConfigurationFile:a}){let{user:i}=(0,x.useAuth)(),{toast:w}=(0,b.useToast)(),[I,S]=t.default.useState(!1),R=(0,n.useForm)({resolver:(0,o.zodResolver)(N),defaultValues:j.SIMULATION_PARAMETERS_DEFAULTS}),k=R.watch("simulationType"),_=R.watch("interactionType"),T=R.watch("mismatch_repulsion"),D=R.watch("gpu"),A=R.watch("hBondRestraint");async function M(e){if(!i)return void w({title:"Authentication Error",description:"You must be logged in to submit a job.",variant:"destructive"});let r=[];r.push(`use_average_seq = ${e.use_average_seq?"true":"false"}`),e.max_backbone_force&&e.max_backbone_force>0&&r.push(`max_backbone_force = ${e.max_backbone_force}`),e.seed&&-1!==e.seed&&r.push(`seed = ${e.seed}`),"MD"===e.simulationType&&e.thermostat&&r.push(`thermostat = ${e.thermostat}`),"MC"===e.simulationType&&(e.delta_translation&&r.push(`delta_translation = ${e.delta_translation}`),e.delta_rotation&&r.push(`delta_rotation = ${e.delta_rotation}`)),1===e.interactionType&&(r.push(`mismatch_repulsion = ${e.mismatch_repulsion?"true":"false"}`),e.mismatch_repulsion&&e.mismatch_repulsion_strength&&r.push(`mismatch_repulsion_strength = ${e.mismatch_repulsion_strength}`));let t=e.override||"",o=r.join("\n");t=t.trim()?`${t.trim()}
${o}`:o;let{use_average_seq:n,max_backbone_force:a,seed:s,thermostat:l,delta_translation:d,delta_rotation:c,mismatch_repulsion:m,mismatch_repulsion_strength:u,hBondRestraintValue:p,...h}=e,x={...h,override:t,userID:i.id,username:i.firstName,topology:e.topology,configuration:e.configuration,forceFile:e.forceFile instanceof File?e.forceFile:void 0,hBondRestraintValue:e.hBondRestraint?e.hBondRestraintValue:void 0};try{let e=await f.api.startJob(x);w({title:"Simulation Submitted",description:`Job started successfully with ID: ${e}.`}),R.reset(j.SIMULATION_PARAMETERS_DEFAULTS)}catch(e){console.error("Failed to submit simulation:",e),w({title:"Submission Failed",description:e.message||"An unknown error occurred.",variant:"destructive"})}}t.default.useEffect(()=>{"MC"===k?(R.setValue("gpu",!1),R.setValue("steps",1e5),R.setValue("confInterval",1e3),R.setValue("delta_translation",.3),R.setValue("delta_rotation",.3)):"MD"===k&&(R.setValue("steps",1e9),R.setValue("confInterval",5e5))},[k,R.setValue]),t.default.useEffect(()=>{if(e){let r=new File([e],"initial.top",{type:"text/plain"});if(R.setValue("topology",r,{shouldValidate:!0}),"MD"===k)try{let r=e.split("\n")[0].trim(),t=parseInt(r.split(" ")[0]);if(!isNaN(t)){let e=t>500;R.setValue("gpu",e),w({title:"GPU Setting Updated",description:`Detected ${t} nucleotides from temporary structure. GPU ${e?"enabled":"disabled"} automatically.`})}}catch(e){console.error("Error reading initial topology file:",e)}}if(a){let e=new File([a],"initial.dat",{type:"text/plain"});R.setValue("configuration",e,{shouldValidate:!0})}},[e,a,R.setValue,k,w]);let P=async(e,r)=>{let t=e.target.files?.[0];if(t&&(R.setValue(r,t,{shouldValidate:!0}),"topology"===r&&"MD"===k))try{let e=(await t.text()).split("\n")[0].trim(),r=parseInt(e.split(" ")[0]);if(!isNaN(r)){let e=r>500;R.setValue("gpu",e),w({title:"GPU Setting Updated",description:`Detected ${r} nucleotides. GPU ${e?"enabled":"disabled"} automatically.`})}}catch(e){console.error("Error reading topology file:",e)}},E=R.watch("topology"),L=R.watch("configuration");return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Form,{...R,children:(0,r.jsxs)("form",{onSubmit:R.handleSubmit(M),className:"space-y-8",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)(v.Card,{children:[(0,r.jsx)(v.CardHeader,{children:(0,r.jsx)(v.CardTitle,{className:"font-headline text-lg",children:"Job & File Configuration"})}),(0,r.jsxs)(v.CardContent,{className:"space-y-4",children:[(0,r.jsx)(l.FormField,{control:R.control,name:"jobName",render:({field:e})=>(0,r.jsxs)(l.FormItem,{children:[(0,r.jsx)(l.FormLabel,{children:"Job Name (Optional)"}),(0,r.jsx)(l.FormControl,{children:(0,r.jsx)(d.Input,{placeholder:"Leave blank to auto-generate",...e,value:e.value??""})}),(0,r.jsx)(l.FormDescription,{children:"Optionally specify a name for the job."}),(0,r.jsx)(l.FormMessage,{})]})}),(0,r.jsx)(l.FormField,{control:R.control,name:"topology",render:()=>(0,r.jsxs)(l.FormItem,{children:[(0,r.jsx)(l.FormLabel,{children:"Topology File"}),(0,r.jsx)(l.FormControl,{children:(0,r.jsx)(d.Input,{type:"file",onChange:e=>P(e,"topology")})}),E instanceof File&&(0,r.jsxs)("div",{className:"text-xs text-muted-foreground mt-1",children:["Selected: ",E.name]}),(0,r.jsx)(l.FormDescription,{children:"Upload your topology file (.top)."}),(0,r.jsx)(l.FormMessage,{})]})}),(0,r.jsx)(l.FormField,{control:R.control,name:"configuration",render:()=>(0,r.jsxs)(l.FormItem,{children:[(0,r.jsx)(l.FormLabel,{children:"Configuration File"}),(0,r.jsx)(l.FormControl,{children:(0,r.jsx)(d.Input,{type:"file",onChange:e=>P(e,"configuration")})}),L instanceof File&&(0,r.jsxs)("div",{className:"text-xs text-muted-foreground mt-1",children:["Selected: ",L.name]}),(0,r.jsx)(l.FormDescription,{children:"Upload your configuration file (.conf)."}),(0,r.jsx)(l.FormMessage,{})]})})]})]}),(0,r.jsx)(p.Accordion,{type:"single",collapsible:!0,className:"w-full",children:(0,r.jsx)(p.AccordionItem,{value:"simulation-params",children:(0,r.jsxs)(v.Card,{children:[(0,r.jsx)(p.AccordionTrigger,{className:"p-6",children:(0,r.jsx)(v.CardHeader,{className:"p-0",children:(0,r.jsx)(v.CardTitle,{className:"font-headline text-lg",children:"Simulation Parameters"})})}),(0,r.jsx)(p.AccordionContent,{children:(0,r.jsxs)(v.CardContent,{className:"space-y-4 pt-0",children:[(0,r.jsx)(l.FormField,{control:R.control,name:"steps",render:({field:e})=>(0,r.jsxs)(l.FormItem,{children:[(0,r.jsx)(l.FormLabel,{children:"Steps"}),(0,r.jsx)(l.FormControl,{children:(0,r.jsx)(d.Input,{type:"number",...e})}),(0,r.jsx)(l.FormDescription,{children:"Total number of simulation steps to execute. A value of 1e9 typically provides statistically significant results for most molecular dynamics simulations."}),(0,r.jsx)(l.FormMessage,{})]})}),(0,r.jsx)(l.FormField,{control:R.control,name:"confInterval",render:({field:e})=>(0,r.jsxs)(l.FormItem,{children:[(0,r.jsx)(l.FormLabel,{children:"Configuration Interval"}),(0,r.jsx)(l.FormControl,{children:(0,r.jsx)(d.Input,{type:"number",...e})}),(0,r.jsx)(l.FormDescription,{children:"Frequency of saving simulation configurations. Lower values save more frequently but create larger output files."}),(0,r.jsx)(l.FormMessage,{})]})}),(0,r.jsx)(l.FormField,{control:R.control,name:"dt",render:({field:e})=>(0,r.jsxs)(l.FormItem,{children:[(0,r.jsx)(l.FormLabel,{children:"Timestep (dt)"}),(0,r.jsx)(l.FormControl,{children:(0,r.jsx)(d.Input,{type:"number",step:"0.0001",...e})}),(0,r.jsx)(l.FormDescription,{children:"Time step size for numerical integration. It is recommended to use a timestep between 0.003 and 0.005 for optimal performance."}),(0,r.jsx)(l.FormMessage,{})]})}),(0,r.jsx)(l.FormField,{control:R.control,name:"maxTime",render:({field:e})=>(0,r.jsxs)(l.FormItem,{children:[(0,r.jsx)(l.FormLabel,{children:"Max Time (seconds)"}),(0,r.jsx)(l.FormControl,{children:(0,r.jsx)(d.Input,{type:"number",...e})}),(0,r.jsx)(l.FormDescription,{children:"Maximum execution time (-1 for default)."}),(0,r.jsx)(l.FormMessage,{})]})}),1===_&&(0,r.jsxs)(v.Card,{className:"border-dashed p-4 space-y-4",children:[(0,r.jsx)(l.FormField,{control:R.control,name:"mismatch_repulsion",render:({field:e})=>(0,r.jsxs)(l.FormItem,{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm hover:bg-gray-50 hover:border-gray-400 dark:hover:bg-transparent dark:hover:border-current transition-all cursor-pointer",children:[(0,r.jsxs)("div",{className:"space-y-0.5",children:[(0,r.jsx)(l.FormLabel,{children:"Mismatch Repulsion"}),(0,r.jsx)(l.FormDescription,{children:"Add repulsion between mismatched RNA base pairs."})]}),(0,r.jsx)(l.FormControl,{children:(0,r.jsx)(c.Switch,{checked:e.value,onCheckedChange:e.onChange})})]})}),T&&(0,r.jsx)(l.FormField,{control:R.control,name:"mismatch_repulsion_strength",render:({field:e})=>(0,r.jsxs)(l.FormItem,{children:[(0,r.jsx)(l.FormLabel,{children:"Mismatch Repulsion Strength"}),(0,r.jsx)(l.FormControl,{children:(0,r.jsx)(d.Input,{type:"number",step:"0.1",...e,value:e.value??""})}),(0,r.jsx)(l.FormMessage,{})]})})]}),"MC"===k&&(0,r.jsxs)(v.Card,{className:"border-dashed p-4 space-y-4",children:[(0,r.jsx)(l.FormField,{control:R.control,name:"delta_translation",render:({field:e})=>(0,r.jsxs)(l.FormItem,{children:[(0,r.jsx)(l.FormLabel,{children:"Delta Translation"}),(0,r.jsx)(l.FormControl,{children:(0,r.jsx)(d.Input,{type:"number",step:"0.01",...e,value:e.value??""})}),(0,r.jsx)(l.FormDescription,{children:"Maximum translational displacement."}),(0,r.jsx)(l.FormMessage,{})]})}),(0,r.jsx)(l.FormField,{control:R.control,name:"delta_rotation",render:({field:e})=>(0,r.jsxs)(l.FormItem,{children:[(0,r.jsx)(l.FormLabel,{children:"Delta Rotation"}),(0,r.jsx)(l.FormControl,{children:(0,r.jsx)(d.Input,{type:"number",step:"0.01",...e,value:e.value??""})}),(0,r.jsx)(l.FormDescription,{children:"Maximum angular rotational displacement."}),(0,r.jsx)(l.FormMessage,{})]})})]}),(0,r.jsx)(l.FormField,{control:R.control,name:"use_average_seq",render:({field:e})=>(0,r.jsxs)(l.FormItem,{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm hover:bg-gray-50 hover:border-gray-400 dark:hover:bg-transparent dark:hover:border-current transition-all cursor-pointer",children:[(0,r.jsxs)("div",{className:"space-y-0.5",children:[(0,r.jsx)(l.FormLabel,{children:"Use Average Sequence Parameters"}),(0,r.jsx)(l.FormDescription,{children:"Use average-sequence parameters. If enabled, the simulation will use average parameters for all the base pairs and they won't be differentiated."})]}),(0,r.jsx)(l.FormControl,{children:(0,r.jsx)(c.Switch,{checked:e.value,onCheckedChange:e.onChange})})]})}),(0,r.jsx)(l.FormField,{control:R.control,name:"T",render:({field:e})=>(0,r.jsxs)(l.FormItem,{children:[(0,r.jsx)(l.FormLabel,{children:"Temperature"}),(0,r.jsx)(l.FormControl,{children:(0,r.jsx)(d.Input,{placeholder:"e.g., 20C",...e})}),(0,r.jsx)(l.FormDescription,{children:"Add C or K at the end of the number to represent it in Celsius or Kelvin respectively, otherwise it will be treated in oxDNA unit of temperature."}),(0,r.jsx)(l.FormMessage,{})]})}),(0,r.jsx)(l.FormField,{control:R.control,name:"saltConc",render:({field:e})=>(0,r.jsxs)(l.FormItem,{children:[(0,r.jsx)(l.FormLabel,{children:"Salt Concentration (M)"}),(0,r.jsx)(l.FormControl,{children:(0,r.jsx)(d.Input,{type:"number",step:"0.01",...e})}),(0,r.jsx)(l.FormDescription,{children:"Ionic strength of the solution in molarity. Typical physiological salt concentration is around 0.15 M."}),(0,r.jsx)(l.FormMessage,{})]})}),(0,r.jsx)(l.FormField,{control:R.control,name:"gpu",render:({field:e})=>(0,r.jsxs)(l.FormItem,{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm hover:bg-gray-50 hover:border-gray-400 dark:hover:bg-transparent dark:hover:border-current transition-all cursor-pointer",children:[(0,r.jsxs)("div",{className:"space-y-0.5",children:[(0,r.jsx)(l.FormLabel,{children:"Use GPU"}),(0,r.jsx)(l.FormDescription,{children:"Utilize GPU for simulation if available. Auto-set based on nucleotide count (>500). (Disabled for MC)"})]}),(0,r.jsx)(l.FormControl,{children:(0,r.jsx)(c.Switch,{checked:e.value,onCheckedChange:e.onChange,disabled:"MC"===k})})]})})]})})]})})})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)(v.Card,{children:[(0,r.jsx)(v.CardHeader,{children:(0,r.jsx)(v.CardTitle,{className:"font-headline text-lg",children:"Execution Settings"})}),(0,r.jsxs)(v.CardContent,{className:"space-y-4",children:[(0,r.jsx)(l.FormField,{control:R.control,name:"simulationType",render:({field:e})=>(0,r.jsxs)(l.FormItem,{className:"space-y-3",children:[(0,r.jsx)(l.FormLabel,{children:"Simulation Type"}),(0,r.jsx)(l.FormControl,{children:(0,r.jsxs)(m.RadioGroup,{onValueChange:e.onChange,defaultValue:e.value,className:"flex flex-col space-y-1",children:[(0,r.jsxs)(l.FormItem,{className:"flex items-center space-x-3 space-y-0",children:[(0,r.jsx)(l.FormControl,{children:(0,r.jsx)(m.RadioGroupItem,{value:"MD"})}),(0,r.jsx)(l.FormLabel,{className:"font-normal",children:"Molecular Dynamics (MD)"})]}),(0,r.jsxs)(l.FormItem,{className:"flex items-center space-x-3 space-y-0",children:[(0,r.jsx)(l.FormControl,{children:(0,r.jsx)(m.RadioGroupItem,{value:"MC"})}),(0,r.jsx)(l.FormLabel,{className:"font-normal",children:"Monte Carlo (MC)"})]})]})}),(0,r.jsx)(l.FormDescription,{children:"Choose the type of simulation to run."}),(0,r.jsx)(l.FormMessage,{})]})}),(0,r.jsx)(l.FormField,{control:R.control,name:"interactionType",render:({field:e})=>(0,r.jsxs)(l.FormItem,{children:[(0,r.jsx)(l.FormLabel,{children:"Interaction Type"}),(0,r.jsxs)(u.Select,{onValueChange:r=>{let t=Number(r);e.onChange(t),1===t&&R.setValue("mismatch_repulsion",!0)},defaultValue:String(e.value),children:[(0,r.jsx)(l.FormControl,{children:(0,r.jsx)(u.SelectTrigger,{children:(0,r.jsx)(u.SelectValue,{placeholder:"Select interaction type"})})}),(0,r.jsx)(u.SelectContent,{children:j.INTERACTION_TYPE_OPTIONS.map(e=>(0,r.jsx)(u.SelectItem,{value:String(e.value),children:e.label},e.value))})]}),(0,r.jsx)(l.FormDescription,{children:"Choose the interaction model for the simulation."}),(0,r.jsx)(l.FormMessage,{})]})})]})]}),(0,r.jsx)(p.Accordion,{type:"single",collapsible:!0,className:"w-full",children:(0,r.jsx)(p.AccordionItem,{value:"restraints",children:(0,r.jsxs)(v.Card,{children:[(0,r.jsx)(p.AccordionTrigger,{className:"p-6",children:(0,r.jsx)(v.CardHeader,{className:"p-0",children:(0,r.jsx)(v.CardTitle,{className:"font-headline text-lg",children:"Restraints"})})}),(0,r.jsx)(p.AccordionContent,{children:(0,r.jsxs)(v.CardContent,{className:"space-y-4 pt-0",children:[(0,r.jsx)(l.FormField,{control:R.control,name:"hBondRestraint",render:({field:e})=>(0,r.jsxs)(l.FormItem,{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm hover:bg-gray-50 hover:border-gray-400 dark:hover:bg-transparent dark:hover:border-current transition-all cursor-pointer",children:[(0,r.jsxs)("div",{className:"space-y-0.5",children:[(0,r.jsx)(l.FormLabel,{children:"H-Bond Restraint"}),(0,r.jsx)(l.FormDescription,{children:"Restrains all the hydrogen bonds between the base pairs, very useful during relaxation."})]}),(0,r.jsx)(l.FormControl,{children:(0,r.jsx)(c.Switch,{checked:e.value,onCheckedChange:e.onChange})})]})}),A&&(0,r.jsx)(l.FormField,{control:R.control,name:"hBondRestraintValue",render:({field:e})=>(0,r.jsxs)(l.FormItem,{children:[(0,r.jsx)(l.FormLabel,{children:"Stiffness"}),(0,r.jsx)(l.FormControl,{children:(0,r.jsx)(d.Input,{type:"number",step:"0.1",...e})}),(0,r.jsx)(l.FormDescription,{children:"Stiffness value for H-Bond restraints."}),(0,r.jsx)(l.FormMessage,{})]})}),(0,r.jsx)(l.FormField,{control:R.control,name:"forceFile",render:()=>(0,r.jsxs)(l.FormItem,{children:[(0,r.jsx)(l.FormLabel,{children:"Force File (Optional)"}),(0,r.jsx)(l.FormControl,{children:(0,r.jsx)(d.Input,{type:"file",onChange:e=>P(e,"forceFile")})}),(0,r.jsx)(l.FormDescription,{children:"Upload a custom force file. This will apply a custom external force during the simulation."}),(0,r.jsx)(l.FormMessage,{})]})}),(0,r.jsx)(l.FormField,{control:R.control,name:"max_backbone_force",render:({field:e})=>(0,r.jsxs)(l.FormItem,{children:[(0,r.jsx)(l.FormLabel,{children:"Max Backbone Force"}),(0,r.jsx)(l.FormControl,{children:(0,r.jsx)(d.Input,{type:"number",step:"0.1",...e,value:e.value??""})}),(0,r.jsx)(l.FormDescription,{children:"Maximum force for FENE bonds. Should be &gt 0. If left 0, which is the default option, it will be ignored."}),(0,r.jsx)(l.FormMessage,{})]})})]})})]})})}),(0,r.jsx)(p.Accordion,{type:"single",collapsible:!0,className:"w-full",children:(0,r.jsx)(p.AccordionItem,{value:"advanced-params",children:(0,r.jsxs)(v.Card,{children:[(0,r.jsx)(p.AccordionTrigger,{className:"p-6",children:(0,r.jsx)(v.CardHeader,{className:"p-0",children:(0,r.jsx)(v.CardTitle,{className:"font-headline text-lg",children:"Advanced Parameters"})})}),(0,r.jsx)(p.AccordionContent,{children:(0,r.jsxs)(v.CardContent,{className:"space-y-4 pt-0",children:[(0,r.jsx)(l.FormField,{control:R.control,name:"verletSkin",render:({field:e})=>(0,r.jsxs)(l.FormItem,{children:[(0,r.jsx)(l.FormLabel,{children:"Verlet Skin"}),(0,r.jsx)(l.FormControl,{children:(0,r.jsx)(d.Input,{type:"number",step:"0.01",...e,disabled:!D})}),(0,r.jsx)(l.FormDescription,{children:"Only applicable when using GPU."}),(0,r.jsx)(l.FormMessage,{})]})}),"MD"===k&&(0,r.jsx)(l.FormField,{control:R.control,name:"thermostat",render:({field:e})=>(0,r.jsxs)(l.FormItem,{children:[(0,r.jsx)(l.FormLabel,{children:"Thermostat"}),(0,r.jsxs)(u.Select,{onValueChange:e.onChange,defaultValue:e.value,children:[(0,r.jsx)(l.FormControl,{children:(0,r.jsx)(u.SelectTrigger,{children:(0,r.jsx)(u.SelectValue,{placeholder:"Select a thermostat"})})}),(0,r.jsx)(u.SelectContent,{children:j.THERMOSTAT_OPTIONS.map(e=>(0,r.jsx)(u.SelectItem,{value:e,children:e},e))})]}),(0,r.jsx)(l.FormDescription,{children:"Select the thermostat for MD simulations."}),(0,r.jsx)(l.FormMessage,{})]})}),(0,r.jsx)(l.FormField,{control:R.control,name:"seed",render:({field:e})=>(0,r.jsxs)(l.FormItem,{children:[(0,r.jsx)(l.FormLabel,{children:"Random Seed"}),(0,r.jsx)(l.FormControl,{children:(0,r.jsx)(d.Input,{type:"number",...e,disabled:D})}),(0,r.jsxs)(l.FormDescription,{children:["Seed for the random number generator. If kept as -1, a random seed will be used, which is desirable for most simulations. ",D&&"(Disabled when using GPU)"]}),(0,r.jsx)(l.FormMessage,{})]})}),(0,r.jsx)(l.FormField,{control:R.control,name:"override",render:({field:e})=>(0,r.jsxs)(l.FormItem,{children:[(0,r.jsx)(l.FormLabel,{children:"Additional Parameters (Optional)"}),(0,r.jsx)(l.FormControl,{children:(0,r.jsx)(h.Textarea,{placeholder:"key = value pairs, one per line",...e,value:e.value??""})}),(0,r.jsx)(l.FormDescription,{children:"Additional parameters to override defaults. Do not re-enter parameters from the fields above."}),(0,r.jsx)(l.FormMessage,{})]})})]})})]})})})]})]}),(0,r.jsx)(y.Separator,{}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)(F.TooltipProvider,{children:(0,r.jsxs)(F.Tooltip,{children:[(0,r.jsx)(F.TooltipTrigger,{asChild:!0,children:(0,r.jsx)("div",{style:{display:"inline-block"},children:(0,r.jsx)(s.Button,{type:"button",onClick:()=>S(!I),disabled:!E||!L,variant:"outline",style:{pointerEvents:E&&L?"auto":"none"},children:I?"Hide Preview":"oxView Preview"})})}),(!E||!L)&&(0,r.jsx)(F.TooltipContent,{children:(0,r.jsx)("p",{children:"Please upload topology and configuration files to show oxView preview"})})]})}),(0,r.jsxs)(s.Button,{type:"submit",size:"lg",disabled:R.formState.isSubmitting,children:[(0,r.jsx)(g.Send,{className:"mr-2 h-5 w-5"}),R.formState.isSubmitting?"Submitting...":"Submit Simulation"]})]})]})}),(0,r.jsx)("div",{className:"mt-8",children:I&&E instanceof File&&L instanceof File&&(0,r.jsx)(C.OxViewPreview,{topFile:E,datFile:L,nucleotideIndexes0:"",nucleotideIndexes1:""})})]})}var S=e.i(22090),R=e.i(15556);function k(){let[e,o]=(0,t.useState)(void 0),[n,a]=(0,t.useState)(void 0);return(0,t.useEffect)(()=>{(async()=>{try{let e=await R.DexieDB.temporaryStructure.get("currentStructure");e&&e.topFile&&e.datFile?window.confirm("Temporary oxView save found. Would you like to use it to pre-populate the topology and configuration fields?")?(o(e.topFile),a(e.datFile)):await R.DexieDB.temporaryStructure.delete("currentStructure"):console.log("nope")}catch(e){console.error("Failed to retrieve temporary structure from DexieDB:",e)}})()},[]),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsx)("h1",{className:"text-3xl font-bold tracking-tight font-headline",children:"Submit New Simulation"})}),(0,r.jsxs)(v.Card,{className:"shadow-lg",children:[(0,r.jsx)(v.CardHeader,{children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)(S.PlaySquare,{className:"h-8 w-8 text-primary"}),(0,r.jsxs)("div",{children:[(0,r.jsx)(v.CardTitle,{className:"text-2xl font-headline",children:"Simulation Parameters"}),(0,r.jsx)(v.CardDescription,{children:"Configure and submit your oxDNA simulation job."})]})]})}),(0,r.jsx)(v.CardContent,{children:(0,r.jsx)(I,{initialTopologyFile:e,initialConfigurationFile:n})})]})]})}e.s(["default",()=>k],37056)}]);