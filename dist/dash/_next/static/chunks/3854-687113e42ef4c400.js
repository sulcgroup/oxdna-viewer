"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3854],{36909:(e,t,a)=>{a.d(t,{T:()=>i});var s=a(69298),r=a(83130),l=a(26164);let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...r})});i.displayName="Textarea"},43177:(e,t,a)=>{a.d(t,{C5:()=>b,MJ:()=>h,Rr:()=>y,eI:()=>p,lR:()=>x,lV:()=>d,zB:()=>u});var s=a(69298),r=a(83130),l=a(80182),i=a(65671),n=a(26164),o=a(71183);let d=i.Op,c=r.createContext({}),u=e=>{let{...t}=e;return(0,s.jsx)(c.Provider,{value:{name:t.name},children:(0,s.jsx)(i.xI,{...t})})},m=()=>{let e=r.useContext(c),t=r.useContext(f),{getFieldState:a,formState:s}=(0,i.xW)(),l=a(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:n}=t;return{id:n,name:e.name,formItemId:"".concat(n,"-form-item"),formDescriptionId:"".concat(n,"-form-item-description"),formMessageId:"".concat(n,"-form-item-message"),...l}},f=r.createContext({}),p=r.forwardRef((e,t)=>{let{className:a,...l}=e,i=r.useId();return(0,s.jsx)(f.Provider,{value:{id:i},children:(0,s.jsx)("div",{ref:t,className:(0,n.cn)("space-y-2",a),...l})})});p.displayName="FormItem";let x=r.forwardRef((e,t)=>{let{className:a,...r}=e,{error:l,formItemId:i}=m();return(0,s.jsx)(o.J,{ref:t,className:(0,n.cn)(l&&"text-destructive",a),htmlFor:i,...r})});x.displayName="FormLabel";let h=r.forwardRef((e,t)=>{let{...a}=e,{error:r,formItemId:i,formDescriptionId:n,formMessageId:o}=m();return(0,s.jsx)(l.DX,{ref:t,id:i,"aria-describedby":r?"".concat(n," ").concat(o):"".concat(n),"aria-invalid":!!r,...a})});h.displayName="FormControl";let y=r.forwardRef((e,t)=>{let{className:a,...r}=e,{formDescriptionId:l}=m();return(0,s.jsx)("p",{ref:t,id:l,className:(0,n.cn)("text-sm text-muted-foreground",a),...r})});y.displayName="FormDescription";let b=r.forwardRef((e,t)=>{var a;let{className:r,children:l,...i}=e,{error:o,formMessageId:d}=m(),c=o?String(null!=(a=null==o?void 0:o.message)?a:""):l;return c?(0,s.jsx)("p",{ref:t,id:d,className:(0,n.cn)("text-sm font-medium text-destructive",r),...i,children:c}):null});b.displayName="FormMessage"},44359:(e,t,a)=>{a.d(t,{d:()=>n});var s=a(69298),r=a(83130),l=a(50759),i=a(26164);let n=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.bL,{className:(0,i.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-gray-300 transition-all duration-200 ease-in-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input hover:shadow-md hover:scale-105 data-[state=checked]:shadow-lg data-[state=checked]:shadow-primary/25",a),...r,ref:t,children:(0,s.jsx)(l.zi,{className:(0,i.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-all duration-200 ease-in-out data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0 data-[state=checked]:shadow-xl border border-gray-300")})})});n.displayName=l.bL.displayName},71183:(e,t,a)=>{a.d(t,{J:()=>d});var s=a(69298),r=a(83130),l=a(90053),i=a(22554),n=a(26164);let o=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.b,{ref:t,className:(0,n.cn)(o(),a),...r})});d.displayName=l.b.displayName},71612:(e,t,a)=>{a.d(t,{Separator:()=>n});var s=a(69298),r=a(83130),l=a(8651),i=a(26164);let n=r.forwardRef((e,t)=>{let{className:a,orientation:r="horizontal",decorative:n=!0,...o}=e;return(0,s.jsx)(l.b,{ref:t,decorative:n,orientation:r,className:(0,i.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",a),...o})});n.displayName=l.b.displayName},73854:(e,t,a)=>{a.d(t,{default:()=>E});var s=a(69298),r=a(83130),l=a(74450),i=a(65671),n=a(72003),o=a(99190),d=a(46583),c=a(43177),u=a(87441),m=a(44359),f=a(82535),p=a(51283),x=a(26164);let h=p.bL;p.l9;let y=p.ZL,b=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(p.hJ,{className:(0,x.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r,ref:t})});b.displayName=p.hJ.displayName;let g=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsxs)(y,{children:[(0,s.jsx)(b,{}),(0,s.jsx)(p.UC,{ref:t,className:(0,x.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...r})]})});g.displayName=p.UC.displayName;let j=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,x.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...a})};j.displayName="AlertDialogHeader";let N=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,x.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};N.displayName="AlertDialogFooter";let v=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(p.hE,{ref:t,className:(0,x.cn)("text-lg font-semibold",a),...r})});v.displayName=p.hE.displayName;let w=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(p.VY,{ref:t,className:(0,x.cn)("text-sm text-muted-foreground",a),...r})});w.displayName=p.VY.displayName;let R=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(p.rc,{ref:t,className:(0,x.cn)((0,d.r)(),a),...r})});R.displayName=p.rc.displayName;let S=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(p.ZD,{ref:t,className:(0,x.cn)((0,d.r)({variant:"outline"}),"mt-2 sm:mt-0",a),...r})});S.displayName=p.ZD.displayName;var F=a(36909),T=a(40025),C=a(87849),A=a(96308),k=a(92839),I=a(76261),z=a(79717),D=a(71612);let M=e=>n.Ik({analysisType:n.au.number({required_error:"Please select an analysis type."}),topology:n.bz().optional(),configuration:n.bz().optional(),otherFile1:n.bz().optional(),otherFile2:n.bz().optional(),bool1:n.zM().optional(),int1:n.au.number().optional(),str1:n.Yj().optional(),str2:n.Yj().optional(),double1:n.au.number().optional(),inlist:n.Yj().optional(),cpus:n.au.number().int().positive().optional()}).superRefine((t,a)=>{if(void 0===t.analysisType)return;let s=A.W9.find(e=>e.value===t.analysisType);if(s)for(let r of s.files)!r.required||!e&&("topology"===r.name||"configuration"===r.name)||t[r.name]instanceof File||a.addIssue({code:o.eq.custom,path:[r.name],message:"".concat(r.label," is required.")})});function E(e){let{jobId:t}=e,{user:a}=(0,T.A)(),{toast:n}=(0,k.dj)(),o=!t,[p,x]=(0,r.useState)(!1),[y,b]=(0,r.useState)(!1),E=(0,r.useMemo)(()=>M(o),[o]),J=(0,i.mN)({resolver:(0,l.u)(E),defaultValues:{cpus:1,bool1:!1}}),_=J.watch("analysisType"),O=(0,r.useMemo)(()=>A.W9.find(e=>e.value===_),[_]),V=(e,t)=>{var a;let s=null==(a=e.target.files)?void 0:a[0];J.setValue(t,s||null,{shouldValidate:!0})},P=async e=>{if(!a||!O)return;let s={userID:a.id,analysisType:e.analysisType,cpus:e.cpus||1,bool1:e.bool1,int1:e.int1,str1:e.str1,str2:e.str2,double1:e.double1,inlist:e.inlist,topology:e.topology instanceof File?e.topology:void 0,configuration:e.configuration instanceof File?e.configuration:void 0,otherFile1:e.otherFile1 instanceof File?e.otherFile1:void 0,otherFile2:e.otherFile2 instanceof File?e.otherFile2:void 0};o||(s.jobUuid=t,s.jobLocation=t);try{let e=await C.F.startAnalysisJob(s);n({title:"Analysis Job Submitted",description:"".concat(O.label," analysis started with ID: ").concat(e,".")}),J.reset({...J.getValues(),str1:"",str2:"",int1:void 0,double1:void 0,bool1:!1})}catch(e){console.error("Failed to submit analysis job:",e),n({title:"Submission Failed",description:e.message||"An unknown error occurred.",variant:"destructive"})}},U=async e=>{if(o||!t||!(null==O?void 0:O.outputFile))return void await P(e);b(!0);try{(await C.F.listJobFiles(t)).includes(O.outputFile)?x(!0):await P(e)}catch(t){n({title:"Could not check for existing files.",description:"Proceeding with submission...",variant:"default"}),await P(e)}finally{b(!1)}};return(0,s.jsxs)(c.lV,{...J,children:[(0,s.jsx)(h,{open:p,onOpenChange:x,children:(0,s.jsxs)(g,{children:[(0,s.jsxs)(j,{children:[(0,s.jsx)(v,{children:"File Already Exists"}),(0,s.jsxs)(w,{children:["The output file ",(0,s.jsx)("code",{className:"bg-muted px-1 py-0.5 rounded font-semibold",children:null==O?void 0:O.outputFile})," already exists for this job. Running this analysis again may overwrite it. Are you sure you want to continue?"]})]}),(0,s.jsxs)(N,{children:[(0,s.jsx)(S,{children:"Cancel"}),(0,s.jsx)(R,{onClick:()=>P(J.getValues()),children:"Yes, Submit Anyway"})]})]})}),(0,s.jsxs)("form",{onSubmit:J.handleSubmit(U),className:"space-y-6",children:[(0,s.jsx)(c.zB,{control:J.control,name:"analysisType",render:e=>{var t;let{field:a}=e;return(0,s.jsxs)(c.eI,{children:[(0,s.jsx)(c.lR,{children:"Analysis Type"}),(0,s.jsxs)(f.l6,{onValueChange:e=>a.onChange(Number(e)),defaultValue:null==(t=a.value)?void 0:t.toString(),children:[(0,s.jsx)(c.MJ,{children:(0,s.jsx)(f.bq,{children:(0,s.jsx)(f.yv,{placeholder:"Select an analysis protocol..."})})}),(0,s.jsx)(f.gC,{children:A.W9.map(e=>(0,s.jsxs)(f.eb,{value:String(e.value),children:[e.label," (",e.command,")"]},e.value))})]}),O&&(0,s.jsx)(c.Rr,{children:O.description}),(0,s.jsx)(c.C5,{})]})}}),O&&(0,s.jsxs)(z.Zp,{className:"border-dashed",children:[(0,s.jsx)(z.aR,{children:(0,s.jsxs)(z.ZB,{children:["Parameters for: ",O.label]})}),(0,s.jsxs)(z.Wu,{className:"space-y-4",children:[O.files.map(e=>{let t=!o&&("topology"===e.name||"configuration"===e.name);return(0,s.jsx)(c.zB,{control:J.control,name:e.name,render:a=>{let{field:r}=a;return(0,s.jsxs)(c.eI,{children:[(0,s.jsxs)(c.lR,{children:[e.label," ",e.required&&!t&&(0,s.jsx)("span",{className:"text-destructive",children:"*"})]}),t?(0,s.jsx)("div",{className:"text-sm p-3 bg-muted rounded-md border text-muted-foreground",children:"âœ“ Using file from the original simulation job."}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.MJ,{children:(0,s.jsx)(u.p,{type:"file",onChange:t=>V(t,e.name)})}),(0,s.jsx)(c.Rr,{children:e.description}),(0,s.jsx)(c.C5,{})]})]})}},e.name)}),O.params.map(e=>(0,s.jsx)(c.zB,{control:J.control,name:e.backendName,render:t=>{var a,r;let{field:l}=t;return(0,s.jsxs)(c.eI,{children:[(0,s.jsx)(c.lR,{children:e.label}),"boolean"===e.type?(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(c.MJ,{children:(0,s.jsx)(m.d,{checked:l.value,onCheckedChange:l.onChange})}),e.description&&(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:e.description})]}):"textarea"===e.type?(0,s.jsx)(c.MJ,{children:(0,s.jsx)(F.T,{placeholder:e.description,...l,value:null!=(a=l.value)?a:""})}):(0,s.jsx)(c.MJ,{children:(0,s.jsx)(u.p,{type:e.type,placeholder:e.description,...l,value:null!=(r=l.value)?r:""})}),(0,s.jsx)(c.C5,{})]})}},e.name))]})]}),(0,s.jsx)(D.Separator,{}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsxs)(d.$,{type:"submit",size:"lg",disabled:!O||J.formState.isSubmitting||y,children:[(0,s.jsx)(I.A,{className:"mr-2 h-5 w-5"}),J.formState.isSubmitting||y?"Submitting...":"Submit Analysis"]})})]})]})}},79717:(e,t,a)=>{a.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>i,aR:()=>n});var s=a(69298),r=a(83130),l=a(26164);let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});i.displayName="Card";let n=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",a),...r})});n.displayName="CardHeader";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});o.displayName="CardTitle";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...r})});d.displayName="CardDescription";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",a),...r})});c.displayName="CardContent",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter"},82535:(e,t,a)=>{a.d(t,{bq:()=>m,eb:()=>h,gC:()=>x,l6:()=>c,yv:()=>u});var s=a(69298),r=a(83130),l=a(59048),i=a(4225),n=a(75884),o=a(42077),d=a(26164);let c=l.bL;l.YJ;let u=l.WT,m=r.forwardRef((e,t)=>{let{className:a,children:r,...n}=e;return(0,s.jsxs)(l.l9,{ref:t,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...n,children:[r,(0,s.jsx)(l.In,{asChild:!0,children:(0,s.jsx)(i.A,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=l.l9.displayName;let f=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.PP,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.jsx)(n.A,{className:"h-4 w-4"})})});f.displayName=l.PP.displayName;let p=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.wn,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.jsx)(i.A,{className:"h-4 w-4"})})});p.displayName=l.wn.displayName;let x=r.forwardRef((e,t)=>{let{className:a,children:r,position:i="popper",...n}=e;return(0,s.jsx)(l.ZL,{children:(0,s.jsxs)(l.UC,{ref:t,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:i,...n,children:[(0,s.jsx)(f,{}),(0,s.jsx)(l.LM,{className:(0,d.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,s.jsx)(p,{})]})})});x.displayName=l.UC.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.JU,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...r})}).displayName=l.JU.displayName;let h=r.forwardRef((e,t)=>{let{className:a,children:r,...i}=e;return(0,s.jsxs)(l.q7,{ref:t,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...i,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(l.VF,{children:(0,s.jsx)(o.A,{className:"h-4 w-4"})})}),(0,s.jsx)(l.p4,{children:r})]})});h.displayName=l.q7.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.wv,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",a),...r})}).displayName=l.wv.displayName},92839:(e,t,a)=>{a.d(t,{dj:()=>m});var s=a(83130);let r=0,l=new Map,i=e=>{if(l.has(e))return;let t=setTimeout(()=>{l.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);l.set(e,t)},n=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?i(a):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],d={toasts:[]};function c(e){d=n(d,e),o.forEach(e=>{e(d)})}function u(e){let{...t}=e,a=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function m(){let[e,t]=s.useState(d);return s.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}}}]);