"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[204],{17759:(e,a,t)=>{t.d(a,{C5:()=>y,MJ:()=>h,Rr:()=>b,eI:()=>p,lR:()=>x,lV:()=>d,zB:()=>u});var s=t(95155),r=t(12115),l=t(99708),i=t(62177),n=t(59434),o=t(85057);let d=i.Op,c=r.createContext({}),u=e=>{let{...a}=e;return(0,s.jsx)(c.Provider,{value:{name:a.name},children:(0,s.jsx)(i.xI,{...a})})},m=()=>{let e=r.useContext(c),a=r.useContext(f),{getFieldState:t,formState:s}=(0,i.xW)(),l=t(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:n}=a;return{id:n,name:e.name,formItemId:"".concat(n,"-form-item"),formDescriptionId:"".concat(n,"-form-item-description"),formMessageId:"".concat(n,"-form-item-message"),...l}},f=r.createContext({}),p=r.forwardRef((e,a)=>{let{className:t,...l}=e,i=r.useId();return(0,s.jsx)(f.Provider,{value:{id:i},children:(0,s.jsx)("div",{ref:a,className:(0,n.cn)("space-y-2",t),...l})})});p.displayName="FormItem";let x=r.forwardRef((e,a)=>{let{className:t,...r}=e,{error:l,formItemId:i}=m();return(0,s.jsx)(o.J,{ref:a,className:(0,n.cn)(l&&"text-destructive",t),htmlFor:i,...r})});x.displayName="FormLabel";let h=r.forwardRef((e,a)=>{let{...t}=e,{error:r,formItemId:i,formDescriptionId:n,formMessageId:o}=m();return(0,s.jsx)(l.DX,{ref:a,id:i,"aria-describedby":r?"".concat(n," ").concat(o):"".concat(n),"aria-invalid":!!r,...t})});h.displayName="FormControl";let b=r.forwardRef((e,a)=>{let{className:t,...r}=e,{formDescriptionId:l}=m();return(0,s.jsx)("p",{ref:a,id:l,className:(0,n.cn)("text-sm text-muted-foreground",t),...r})});b.displayName="FormDescription";let y=r.forwardRef((e,a)=>{var t;let{className:r,children:l,...i}=e,{error:o,formMessageId:d}=m(),c=o?String(null!=(t=null==o?void 0:o.message)?t:""):l;return c?(0,s.jsx)("p",{ref:a,id:d,className:(0,n.cn)("text-sm font-medium text-destructive",r),...i,children:c}):null});y.displayName="FormMessage"},22346:(e,a,t)=>{t.d(a,{Separator:()=>n});var s=t(95155),r=t(12115),l=t(87489),i=t(59434);let n=r.forwardRef((e,a)=>{let{className:t,orientation:r="horizontal",decorative:n=!0,...o}=e;return(0,s.jsx)(l.b,{ref:a,decorative:n,orientation:r,className:(0,i.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",t),...o})});n.displayName=l.b.displayName},59409:(e,a,t)=>{t.d(a,{bq:()=>m,eb:()=>h,gC:()=>x,l6:()=>c,yv:()=>u});var s=t(95155),r=t(12115),l=t(31992),i=t(79556),n=t(77381),o=t(10518),d=t(59434);let c=l.bL;l.YJ;let u=l.WT,m=r.forwardRef((e,a)=>{let{className:t,children:r,...n}=e;return(0,s.jsxs)(l.l9,{ref:a,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[r,(0,s.jsx)(l.In,{asChild:!0,children:(0,s.jsx)(i.A,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=l.l9.displayName;let f=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(l.PP,{ref:a,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,s.jsx)(n.A,{className:"h-4 w-4"})})});f.displayName=l.PP.displayName;let p=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(l.wn,{ref:a,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,s.jsx)(i.A,{className:"h-4 w-4"})})});p.displayName=l.wn.displayName;let x=r.forwardRef((e,a)=>{let{className:t,children:r,position:i="popper",...n}=e;return(0,s.jsx)(l.ZL,{children:(0,s.jsxs)(l.UC,{ref:a,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:i,...n,children:[(0,s.jsx)(f,{}),(0,s.jsx)(l.LM,{className:(0,d.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,s.jsx)(p,{})]})})});x.displayName=l.UC.displayName,r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(l.JU,{ref:a,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...r})}).displayName=l.JU.displayName;let h=r.forwardRef((e,a)=>{let{className:t,children:r,...i}=e;return(0,s.jsxs)(l.q7,{ref:a,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...i,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(l.VF,{children:(0,s.jsx)(o.A,{className:"h-4 w-4"})})}),(0,s.jsx)(l.p4,{children:r})]})});h.displayName=l.q7.displayName,r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(l.wv,{ref:a,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",t),...r})}).displayName=l.wv.displayName},60204:(e,a,t)=>{t.d(a,{default:()=>M});var s=t(95155),r=t(12115),l=t(90221),i=t(62177),n=t(55594),o=t(30285),d=t(17759),c=t(62523),u=t(80333),m=t(59409),f=t(17649),p=t(59434);let x=f.bL;f.l9;let h=f.ZL,b=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(f.hJ,{className:(0,p.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r,ref:a})});b.displayName=f.hJ.displayName;let y=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsxs)(h,{children:[(0,s.jsx)(b,{}),(0,s.jsx)(f.UC,{ref:a,className:(0,p.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r})]})});y.displayName=f.UC.displayName;let g=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,p.cn)("flex flex-col space-y-2 text-center sm:text-left",a),...t})};g.displayName="AlertDialogHeader";let j=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,p.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...t})};j.displayName="AlertDialogFooter";let N=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(f.hE,{ref:a,className:(0,p.cn)("text-lg font-semibold",t),...r})});N.displayName=f.hE.displayName;let v=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(f.VY,{ref:a,className:(0,p.cn)("text-sm text-muted-foreground",t),...r})});v.displayName=f.VY.displayName;let w=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(f.rc,{ref:a,className:(0,p.cn)((0,o.r)(),t),...r})});w.displayName=f.rc.displayName;let R=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(f.ZD,{ref:a,className:(0,p.cn)((0,o.r)({variant:"outline"}),"mt-2 sm:mt-0",t),...r})});R.displayName=f.ZD.displayName;var F=t(88539),C=t(40283),k=t(25731),z=t(91950),S=t(87481),A=t(73672),I=t(66695),J=t(22346);let T=e=>n.Ik({analysisType:n.au.number({required_error:"Please select an analysis type."}),topology:n.bz().optional(),configuration:n.bz().optional(),otherFile1:n.bz().optional(),otherFile2:n.bz().optional(),bool1:n.zM().optional(),int1:n.au.number().optional(),str1:n.Yj().optional(),str2:n.Yj().optional(),double1:n.au.number().optional(),inlist:n.Yj().optional(),cpus:n.au.number().int().positive().optional()}).superRefine((a,t)=>{if(void 0===a.analysisType)return;let s=z.W9.find(e=>e.value===a.analysisType);if(s)for(let r of s.files)!r.required||!e&&("topology"===r.name||"configuration"===r.name)||a[r.name]instanceof File||t.addIssue({code:n.eq.custom,path:[r.name],message:"".concat(r.label," is required.")})});function M(e){let{jobId:a}=e,{user:t}=(0,C.A)(),{toast:n}=(0,S.dj)(),f=!a,[p,h]=(0,r.useState)(!1),[b,M]=(0,r.useState)(!1),V=(0,r.useMemo)(()=>T(f),[f]),D=(0,i.mN)({resolver:(0,l.u)(V),defaultValues:{cpus:1,bool1:!1}}),q=D.watch("analysisType"),L=(0,r.useMemo)(()=>z.W9.find(e=>e.value===q),[q]),P=(e,a)=>{var t;let s=null==(t=e.target.files)?void 0:t[0];D.setValue(a,s||null,{shouldValidate:!0})},U=async e=>{if(!t||!L)return;let s={userID:t.id,analysisType:e.analysisType,cpus:e.cpus||1,bool1:e.bool1,int1:e.int1,str1:e.str1,str2:e.str2,double1:e.double1,inlist:e.inlist,topology:e.topology instanceof File?e.topology:void 0,configuration:e.configuration instanceof File?e.configuration:void 0,otherFile1:e.otherFile1 instanceof File?e.otherFile1:void 0,otherFile2:e.otherFile2 instanceof File?e.otherFile2:void 0};f||(s.jobUuid=a,s.jobLocation=a);try{let e=await k.F.startAnalysisJob(s);n({title:"Analysis Job Submitted",description:"".concat(L.label," analysis started with ID: ").concat(e,".")}),D.reset({...D.getValues(),str1:"",str2:"",int1:void 0,double1:void 0,bool1:!1})}catch(e){console.error("Failed to submit analysis job:",e),n({title:"Submission Failed",description:e.message||"An unknown error occurred.",variant:"destructive"})}},Z=async e=>{if(f||!a||!(null==L?void 0:L.outputFile))return void await U(e);M(!0);try{(await k.F.listJobFiles(a)).includes(L.outputFile)?h(!0):await U(e)}catch(a){n({title:"Could not check for existing files.",description:"Proceeding with submission...",variant:"default"}),await U(e)}finally{M(!1)}};return(0,s.jsxs)(d.lV,{...D,children:[(0,s.jsx)(x,{open:p,onOpenChange:h,children:(0,s.jsxs)(y,{children:[(0,s.jsxs)(g,{children:[(0,s.jsx)(N,{children:"File Already Exists"}),(0,s.jsxs)(v,{children:["The output file ",(0,s.jsx)("code",{className:"bg-muted px-1 py-0.5 rounded font-semibold",children:null==L?void 0:L.outputFile})," already exists for this job. Running this analysis again may overwrite it. Are you sure you want to continue?"]})]}),(0,s.jsxs)(j,{children:[(0,s.jsx)(R,{children:"Cancel"}),(0,s.jsx)(w,{onClick:()=>U(D.getValues()),children:"Yes, Submit Anyway"})]})]})}),(0,s.jsxs)("form",{onSubmit:D.handleSubmit(Z),className:"space-y-6",children:[(0,s.jsx)(d.zB,{control:D.control,name:"analysisType",render:e=>{var a;let{field:t}=e;return(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{children:"Analysis Type"}),(0,s.jsxs)(m.l6,{onValueChange:e=>t.onChange(Number(e)),defaultValue:null==(a=t.value)?void 0:a.toString(),children:[(0,s.jsx)(d.MJ,{children:(0,s.jsx)(m.bq,{children:(0,s.jsx)(m.yv,{placeholder:"Select an analysis protocol..."})})}),(0,s.jsx)(m.gC,{children:z.W9.map(e=>(0,s.jsxs)(m.eb,{value:String(e.value),children:[e.label," (",e.command,")"]},e.value))})]}),L&&(0,s.jsx)(d.Rr,{children:L.description}),(0,s.jsx)(d.C5,{})]})}}),L&&(0,s.jsxs)(I.Zp,{className:"border-dashed",children:[(0,s.jsx)(I.aR,{children:(0,s.jsxs)(I.ZB,{children:["Parameters for: ",L.label]})}),(0,s.jsxs)(I.Wu,{className:"space-y-4",children:[L.files.map(e=>{let a=!f&&("topology"===e.name||"configuration"===e.name);return(0,s.jsx)(d.zB,{control:D.control,name:e.name,render:t=>{let{field:r}=t;return(0,s.jsxs)(d.eI,{children:[(0,s.jsxs)(d.lR,{children:[e.label," ",e.required&&!a&&(0,s.jsx)("span",{className:"text-destructive",children:"*"})]}),a?(0,s.jsx)("div",{className:"text-sm p-3 bg-muted rounded-md border text-muted-foreground",children:"âœ“ Using file from the original simulation job."}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.MJ,{children:(0,s.jsx)(c.p,{type:"file",onChange:a=>P(a,e.name)})}),(0,s.jsx)(d.Rr,{children:e.description}),(0,s.jsx)(d.C5,{})]})]})}},e.name)}),L.params.map(e=>(0,s.jsx)(d.zB,{control:D.control,name:e.backendName,render:a=>{var t,r;let{field:l}=a;return(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{children:e.label}),"boolean"===e.type?(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(d.MJ,{children:(0,s.jsx)(u.d,{checked:l.value,onCheckedChange:l.onChange})}),e.description&&(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:e.description})]}):"textarea"===e.type?(0,s.jsx)(d.MJ,{children:(0,s.jsx)(F.T,{placeholder:e.description,...l,value:null!=(t=l.value)?t:""})}):(0,s.jsx)(d.MJ,{children:(0,s.jsx)(c.p,{type:e.type,placeholder:e.description,...l,value:null!=(r=l.value)?r:""})}),(0,s.jsx)(d.C5,{})]})}},e.name))]})]}),(0,s.jsx)(J.Separator,{}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsxs)(o.$,{type:"submit",size:"lg",disabled:!L||D.formState.isSubmitting||b,children:[(0,s.jsx)(A.A,{className:"mr-2 h-5 w-5"}),D.formState.isSubmitting||b?"Submitting...":"Submit Analysis"]})})]})]})}},66695:(e,a,t)=>{t.d(a,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>i,aR:()=>n});var s=t(95155),r=t(12115),l=t(59434);let i=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r})});i.displayName="Card";let n=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",t),...r})});n.displayName="CardHeader";let o=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",t),...r})});o.displayName="CardTitle";let d=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,l.cn)("text-sm text-muted-foreground",t),...r})});d.displayName="CardDescription";let c=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,l.cn)("p-6 pt-0",t),...r})});c.displayName="CardContent",r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,l.cn)("flex items-center p-6 pt-0",t),...r})}).displayName="CardFooter"},80333:(e,a,t)=>{t.d(a,{d:()=>n});var s=t(95155),r=t(12115),l=t(4884),i=t(59434);let n=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(l.bL,{className:(0,i.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-gray-300 transition-all duration-200 ease-in-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input hover:shadow-md hover:scale-105 data-[state=checked]:shadow-lg data-[state=checked]:shadow-primary/25",t),...r,ref:a,children:(0,s.jsx)(l.zi,{className:(0,i.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-all duration-200 ease-in-out data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0 data-[state=checked]:shadow-xl border border-gray-300")})})});n.displayName=l.bL.displayName},88539:(e,a,t)=>{t.d(a,{T:()=>i});var s=t(95155),r=t(12115),l=t(59434);let i=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...r})});i.displayName="Textarea"}}]);