(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,47572,e=>{"use strict";var t=e.i(65771),r=e.i(20339),n=e.i(69496);let a=e=>e?/^[0-9,\s]*$/.test(e)?e.split(",").map(e=>parseInt(e.trim(),10)).filter(e=>!isNaN(e)):(console.warn("Invalid characters in nucleotideIndexes. Aborting script generation."),[]):[];function s({topFile:e,datFile:s,nucleotideIndexes0:o,nucleotideIndexes1:i,height:l="500px",postLoadCommand:d}){let c=(0,r.useRef)(null);return(0,r.useEffect)(()=>{let t=c.current;if(!t?.contentWindow)return;let r=()=>{let r=[{file:e,ext:"top"},{file:s,ext:"dat"}],n=r.map(e=>new Blob([e.file],{type:"text/plain"})),l=r.map(e=>e.ext),c=[],u=a(o);u.length>0&&c.push(`colorElements(new THREE.Color(1, 0, 0), api.getElements([${u.join(",")}]))`);let f=a(i);if(f.length>0&&c.push(`colorElements(new THREE.Color(0, 0, 1), api.getElements([${f.join(",")}]))`),d&&c.push(d),c.length>0){let e=c.join(";\n");n.push(new Blob([e],{type:"application/javascript"})),l.push("js")}t.contentWindow?.postMessage({message:"iframe_drop",files:n,ext:l,inbox_settings:["Monomer","Origin"]},"/")};return t.addEventListener("load",r),()=>{t.removeEventListener("load",r)}},[e,s,o,i,d,c]),(0,t.jsxs)(n.Card,{className:"mt-4",children:[(0,t.jsx)(n.CardHeader,{children:(0,t.jsx)(n.CardTitle,{children:"Structure Preview"})}),(0,t.jsx)(n.CardContent,{children:(0,t.jsx)("iframe",{ref:c,src:"/",width:"100%",height:l,style:{border:"1px solid hsl(var(--border))"},title:"oxDNA Viewer"})})]})}e.s(["OxViewPreview",()=>s])},97167,e=>{"use strict";let t=(0,e.i(6817).default)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);e.s(["Send",()=>t],97167)},69496,e=>{"use strict";var t=e.i(65771),r=e.i(20339),n=e.i(76832);let a=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));a.displayName="Card";let s=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...r}));s.displayName="CardHeader";let o=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));o.displayName="CardTitle";let i=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",e),...r}));i.displayName="CardDescription";let l=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,n.cn)("p-6 pt-0",e),...r}));l.displayName="CardContent";let d=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",e),...r}));d.displayName="CardFooter",e.s(["Card",()=>a,"CardContent",()=>l,"CardDescription",()=>i,"CardFooter",()=>d,"CardHeader",()=>s,"CardTitle",()=>o])},23858,e=>{"use strict";function t(e,[t,r]){return Math.min(r,Math.max(t,e))}e.s(["clamp",()=>t])},60031,e=>{"use strict";var t=e.i(65771),r=e.i(20339),n=e.i(26983),a=r.forwardRef((e,r)=>(0,t.jsx)(n.Primitive.label,{...e,ref:r,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));a.displayName="Label";var s=e.i(42115),o=e.i(76832);let i=(0,s.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=r.forwardRef(({className:e,...r},n)=>(0,t.jsx)(a,{ref:n,className:(0,o.cn)(i(),e),...r}));l.displayName=a.displayName,e.s(["Label",()=>l],60031)},81950,e=>{"use strict";var t=e.i(65771),r=e.i(20339),n=e.i(15295),a=e.i(11009),s=e.i(33849),o=e.i(88982),i=e.i(10343),l=e.i(43082),d=e.i(26983),c="Switch",[u,f]=(0,s.createContextScope)(c),[p,m]=u(c),v=r.forwardRef((e,s)=>{let{__scopeSwitch:i,name:l,checked:c,defaultChecked:u,required:f,disabled:m,value:v="on",onCheckedChange:h,form:g,...b}=e,[j,w]=r.useState(null),C=(0,a.useComposedRefs)(s,e=>w(e)),E=r.useRef(!1),N=!j||g||!!j.closest("form"),[R=!1,F]=(0,o.useControllableState)({prop:c,defaultProp:u,onChange:h});return(0,t.jsxs)(p,{scope:i,checked:R,disabled:m,children:[(0,t.jsx)(d.Primitive.button,{type:"button",role:"switch","aria-checked":R,"aria-required":f,"data-state":x(R),"data-disabled":m?"":void 0,disabled:m,value:v,...b,ref:C,onClick:(0,n.composeEventHandlers)(e.onClick,e=>{F(e=>!e),N&&(E.current=e.isPropagationStopped(),E.current||e.stopPropagation())})}),N&&(0,t.jsx)(y,{control:j,bubbles:!E.current,name:l,value:v,checked:R,required:f,disabled:m,form:g,style:{transform:"translateX(-100%)"}})]})});v.displayName=c;var h="SwitchThumb",g=r.forwardRef((e,r)=>{let{__scopeSwitch:n,...a}=e,s=m(h,n);return(0,t.jsx)(d.Primitive.span,{"data-state":x(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:r})});g.displayName=h;var y=e=>{let{control:n,checked:a,bubbles:s=!0,...o}=e,d=r.useRef(null),c=(0,i.usePrevious)(a),u=(0,l.useSize)(n);return r.useEffect(()=>{let e=d.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(c!==a&&t){let r=new Event("click",{bubbles:s});t.call(e,a),e.dispatchEvent(r)}},[c,a,s]),(0,t.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...o,tabIndex:-1,ref:d,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function x(e){return e?"checked":"unchecked"}var b=e.i(76832);let j=r.forwardRef(({className:e,...r},n)=>(0,t.jsx)(v,{className:(0,b.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-gray-300 transition-all duration-200 ease-in-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input hover:shadow-md hover:scale-105 data-[state=checked]:shadow-lg data-[state=checked]:shadow-primary/25",e),...r,ref:n,children:(0,t.jsx)(g,{className:(0,b.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-all duration-200 ease-in-out data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0 data-[state=checked]:shadow-xl border border-gray-300")})}));j.displayName=v.displayName,e.s(["Switch",()=>j],81950)},43216,e=>{"use strict";let t=(0,e.i(6817).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],43216)},18410,e=>{"use strict";let t=(0,e.i(6817).default)("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);e.s(["default",()=>t])},10956,e=>{"use strict";var t=e.i(18410);e.s(["LineChartIcon",()=>t.default])},21318,e=>{"use strict";var t=e.i(65771),r=e.i(20339),n=e.i(76832);let a=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...r}));a.displayName="Textarea",e.s(["Textarea",()=>a])},82681,e=>{"use strict";let t;var r,n=e.i(65771),a=e.i(20339),s=e.i(34414),o=e.i(79862),i=e.i(70913),l=e.i(80559),d=e.i(89882),c=e.i(44187),u=e.i(81950),f=e.i(81775),p=e.i(33849),m=e.i(11009),v=e.i(15295),h=e.i(72205),g=e.i(88982),y=e.i(26983),x=e.i(56928),b="dismissableLayer.update",j=a.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),w=a.forwardRef((e,t)=>{let{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:l,onInteractOutside:d,onDismiss:c,...u}=e,f=a.useContext(j),[p,h]=a.useState(null),g=p?.ownerDocument??globalThis?.document,[,w]=a.useState({}),N=(0,m.useComposedRefs)(t,e=>h(e)),R=Array.from(f.layers),[F]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),D=R.indexOf(F),S=p?R.indexOf(p):-1,P=f.layersWithOutsidePointerEventsDisabled.size>0,k=S>=D,T=function(e,t=globalThis?.document){let r=(0,x.useCallbackRef)(e),n=a.useRef(!1),s=a.useRef(()=>{});return a.useEffect(()=>{let e=e=>{if(e.target&&!n.current){let n=function(){E("dismissableLayer.pointerDownOutside",r,a,{discrete:!0})},a={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",s.current),s.current=n,t.addEventListener("click",s.current,{once:!0})):n()}else t.removeEventListener("click",s.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",e),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}(e=>{let t=e.target,r=[...f.branches].some(e=>e.contains(t));k&&!r&&(i?.(e),d?.(e),e.defaultPrevented||c?.())},g),I=function(e,t=globalThis?.document){let r=(0,x.useCallbackRef)(e),n=a.useRef(!1);return a.useEffect(()=>{let e=e=>{e.target&&!n.current&&E("dismissableLayer.focusOutside",r,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}(e=>{let t=e.target;![...f.branches].some(e=>e.contains(t))&&(l?.(e),d?.(e),e.defaultPrevented||c?.())},g);return!function(e,t=globalThis?.document){let r=(0,x.useCallbackRef)(e);a.useEffect(()=>{let e=e=>{"Escape"===e.key&&r(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[r,t])}(e=>{S===f.layers.size-1&&(o?.(e),!e.defaultPrevented&&c&&(e.preventDefault(),c()))},g),a.useEffect(()=>{if(p)return s&&(0===f.layersWithOutsidePointerEventsDisabled.size&&(r=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),C(),()=>{s&&1===f.layersWithOutsidePointerEventsDisabled.size&&(g.body.style.pointerEvents=r)}},[p,g,s,f]),a.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),C())},[p,f]),a.useEffect(()=>{let e=()=>w({});return document.addEventListener(b,e),()=>document.removeEventListener(b,e)},[]),(0,n.jsx)(y.Primitive.div,{...u,ref:N,style:{pointerEvents:P?k?"auto":"none":void 0,...e.style},onFocusCapture:(0,v.composeEventHandlers)(e.onFocusCapture,I.onFocusCapture),onBlurCapture:(0,v.composeEventHandlers)(e.onBlurCapture,I.onBlurCapture),onPointerDownCapture:(0,v.composeEventHandlers)(e.onPointerDownCapture,T.onPointerDownCapture)})});function C(){let e=new CustomEvent(b);document.dispatchEvent(e)}function E(e,t,r,{discrete:n}){let a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?(0,y.dispatchDiscreteCustomEvent)(a,s):a.dispatchEvent(s)}w.displayName="DismissableLayer",a.forwardRef((e,t)=>{let r=a.useContext(j),s=a.useRef(null),o=(0,m.useComposedRefs)(t,s);return a.useEffect(()=>{let e=s.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}},[r.branches]),(0,n.jsx)(y.Primitive.div,{...e,ref:o})}).displayName="DismissableLayerBranch";var N="focusScope.autoFocusOnMount",R="focusScope.autoFocusOnUnmount",F={bubbles:!1,cancelable:!0},D=a.forwardRef((e,t)=>{let{loop:r=!1,trapped:s=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...l}=e,[d,c]=a.useState(null),u=(0,x.useCallbackRef)(o),f=(0,x.useCallbackRef)(i),p=a.useRef(null),v=(0,m.useComposedRefs)(t,e=>c(e)),h=a.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;a.useEffect(()=>{if(s){let e=function(e){if(h.paused||!d)return;let t=e.target;d.contains(t)?p.current=t:k(p.current,{select:!0})},t=function(e){if(h.paused||!d)return;let t=e.relatedTarget;null!==t&&(d.contains(t)||k(p.current,{select:!0}))};document.addEventListener("focusin",e),document.addEventListener("focusout",t);let r=new MutationObserver(function(e){if(document.activeElement===document.body)for(let t of e)t.removedNodes.length>0&&k(d)});return d&&r.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}},[s,d,h.paused]),a.useEffect(()=>{if(d){T.add(h);let e=document.activeElement;if(!d.contains(e)){let t=new CustomEvent(N,F);d.addEventListener(N,u),d.dispatchEvent(t),t.defaultPrevented||(function(e,{select:t=!1}={}){let r=document.activeElement;for(let n of e)if(k(n,{select:t}),document.activeElement!==r)return}(S(d).filter(e=>"A"!==e.tagName),{select:!0}),document.activeElement===e&&k(d))}return()=>{d.removeEventListener(N,u),setTimeout(()=>{let t=new CustomEvent(R,F);d.addEventListener(R,f),d.dispatchEvent(t),t.defaultPrevented||k(e??document.body,{select:!0}),d.removeEventListener(R,f),T.remove(h)},0)}}},[d,u,f,h]);let g=a.useCallback(e=>{if(!r&&!s||h.paused)return;let t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,n=document.activeElement;if(t&&n){var a;let t,s=e.currentTarget,[o,i]=[P(t=S(a=s),a),P(t.reverse(),a)];o&&i?e.shiftKey||n!==i?e.shiftKey&&n===o&&(e.preventDefault(),r&&k(i,{select:!0})):(e.preventDefault(),r&&k(o,{select:!0})):n===s&&e.preventDefault()}},[r,s,h.paused]);return(0,n.jsx)(y.Primitive.div,{tabIndex:-1,...l,ref:v,onKeyDown:g})});function S(e){let t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function P(e,t){for(let r of e)if(!function(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e&&(void 0===t||e!==t);){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(r,{upTo:t}))return r}function k(e,{select:t=!1}={}){if(e&&e.focus){var r;let n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&(r=e)instanceof HTMLInputElement&&"select"in r&&t&&e.select()}}D.displayName="FocusScope";var T=(t=[],{add(e){let r=t[0];e!==r&&r?.pause(),(t=I(t,e)).unshift(e)},remove(e){t=I(t,e),t[0]?.resume()}});function I(e,t){let r=[...e],n=r.indexOf(t);return -1!==n&&r.splice(n,1),r}var A=e.i(46847),L=e.i(85695),O=a.forwardRef((e,t)=>{let{container:r,...s}=e,[o,i]=a.useState(!1);(0,L.useLayoutEffect)(()=>i(!0),[]);let l=r||o&&globalThis?.document?.body;return l?A.default.createPortal((0,n.jsx)(y.Primitive.div,{...s,ref:t}),l):null});O.displayName="Portal";var M=e.i(86215),H=e.i(69242),_=e.i(83791),$=e.i(48030),W=e.i(2871),z="Dialog",[B,V]=(0,p.createContextScope)(z),[K,U]=B(z),q=e=>{let{__scopeDialog:t,children:r,open:s,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,d=a.useRef(null),c=a.useRef(null),[u=!1,f]=(0,g.useControllableState)({prop:s,defaultProp:o,onChange:i});return(0,n.jsx)(K,{scope:t,triggerRef:d,contentRef:c,contentId:(0,h.useId)(),titleId:(0,h.useId)(),descriptionId:(0,h.useId)(),open:u,onOpenChange:f,onOpenToggle:a.useCallback(()=>f(e=>!e),[f]),modal:l,children:r})};q.displayName=z;var Y="DialogTrigger",J=a.forwardRef((e,t)=>{let{__scopeDialog:r,...a}=e,s=U(Y,r),o=(0,m.useComposedRefs)(t,s.triggerRef);return(0,n.jsx)(y.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":em(s.open),...a,ref:o,onClick:(0,v.composeEventHandlers)(e.onClick,s.onOpenToggle)})});J.displayName=Y;var Z="DialogPortal",[G,X]=B(Z,{forceMount:void 0}),Q=e=>{let{__scopeDialog:t,forceMount:r,children:s,container:o}=e,i=U(Z,t);return(0,n.jsx)(G,{scope:t,forceMount:r,children:a.Children.map(s,e=>(0,n.jsx)(M.Presence,{present:r||i.open,children:(0,n.jsx)(O,{asChild:!0,container:o,children:e})}))})};Q.displayName=Z;var ee="DialogOverlay",et=a.forwardRef((e,t)=>{let r=X(ee,e.__scopeDialog),{forceMount:a=r.forceMount,...s}=e,o=U(ee,e.__scopeDialog);return o.modal?(0,n.jsx)(M.Presence,{present:a||o.open,children:(0,n.jsx)(er,{...s,ref:t})}):null});et.displayName=ee;var er=a.forwardRef((e,t)=>{let{__scopeDialog:r,...a}=e,s=U(ee,r);return(0,n.jsx)(_.RemoveScroll,{as:W.Slot,allowPinchZoom:!0,shards:[s.contentRef],children:(0,n.jsx)(y.Primitive.div,{"data-state":em(s.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),en="DialogContent",ea=a.forwardRef((e,t)=>{let r=X(en,e.__scopeDialog),{forceMount:a=r.forceMount,...s}=e,o=U(en,e.__scopeDialog);return(0,n.jsx)(M.Presence,{present:a||o.open,children:o.modal?(0,n.jsx)(es,{...s,ref:t}):(0,n.jsx)(eo,{...s,ref:t})})});ea.displayName=en;var es=a.forwardRef((e,t)=>{let r=U(en,e.__scopeDialog),s=a.useRef(null),o=(0,m.useComposedRefs)(t,r.contentRef,s);return a.useEffect(()=>{let e=s.current;if(e)return(0,$.hideOthers)(e)},[]),(0,n.jsx)(ei,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,v.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:(0,v.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:(0,v.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault())})}),eo=a.forwardRef((e,t)=>{let r=U(en,e.__scopeDialog),s=a.useRef(!1),o=a.useRef(!1);return(0,n.jsx)(ei,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(s.current||r.triggerRef.current?.focus(),t.preventDefault()),s.current=!1,o.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(s.current=!0,"pointerdown"===t.detail.originalEvent.type&&(o.current=!0));let n=t.target;r.triggerRef.current?.contains(n)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&o.current&&t.preventDefault()}})}),ei=a.forwardRef((e,t)=>{let{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,...l}=e,d=U(en,r),c=a.useRef(null),u=(0,m.useComposedRefs)(t,c);return(0,H.useFocusGuards)(),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(D,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:o,onUnmountAutoFocus:i,children:(0,n.jsx)(w,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":em(d.open),...l,ref:u,onDismiss:()=>d.onOpenChange(!1)})}),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ey,{titleId:d.titleId}),(0,n.jsx)(ex,{contentRef:c,descriptionId:d.descriptionId})]})]})}),el="DialogTitle",ed=a.forwardRef((e,t)=>{let{__scopeDialog:r,...a}=e,s=U(el,r);return(0,n.jsx)(y.Primitive.h2,{id:s.titleId,...a,ref:t})});ed.displayName=el;var ec="DialogDescription",eu=a.forwardRef((e,t)=>{let{__scopeDialog:r,...a}=e,s=U(ec,r);return(0,n.jsx)(y.Primitive.p,{id:s.descriptionId,...a,ref:t})});eu.displayName=ec;var ef="DialogClose",ep=a.forwardRef((e,t)=>{let{__scopeDialog:r,...a}=e,s=U(ef,r);return(0,n.jsx)(y.Primitive.button,{type:"button",...a,ref:t,onClick:(0,v.composeEventHandlers)(e.onClick,()=>s.onOpenChange(!1))})});function em(e){return e?"open":"closed"}ep.displayName=ef;var ev="DialogTitleWarning",[eh,eg]=(0,p.createContext)(ev,{contentName:en,titleName:el,docsSlug:"dialog"}),ey=({titleId:e})=>{let t=eg(ev),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return a.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},ex=({contentRef:e,descriptionId:t})=>{let r=eg("DialogDescriptionWarning"),n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${r.contentName}}.`;return a.useEffect(()=>{let r=e.current?.getAttribute("aria-describedby");t&&r&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},eb="AlertDialog",[ej,ew]=(0,p.createContextScope)(eb,[V]),eC=V(),eE=e=>{let{__scopeAlertDialog:t,...r}=e,a=eC(t);return(0,n.jsx)(q,{...a,...r,modal:!0})};eE.displayName=eb,a.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...a}=e,s=eC(r);return(0,n.jsx)(J,{...s,...a,ref:t})}).displayName="AlertDialogTrigger";var eN=e=>{let{__scopeAlertDialog:t,...r}=e,a=eC(t);return(0,n.jsx)(Q,{...a,...r})};eN.displayName="AlertDialogPortal";var eR=a.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...a}=e,s=eC(r);return(0,n.jsx)(et,{...s,...a,ref:t})});eR.displayName="AlertDialogOverlay";var eF="AlertDialogContent",[eD,eS]=ej(eF),eP=a.forwardRef((e,t)=>{let{__scopeAlertDialog:r,children:s,...o}=e,i=eC(r),l=a.useRef(null),d=(0,m.useComposedRefs)(t,l),c=a.useRef(null);return(0,n.jsx)(eh,{contentName:eF,titleName:ek,docsSlug:"alert-dialog",children:(0,n.jsx)(eD,{scope:r,cancelRef:c,children:(0,n.jsxs)(ea,{role:"alertdialog",...i,...o,ref:d,onOpenAutoFocus:(0,v.composeEventHandlers)(o.onOpenAutoFocus,e=>{e.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,n.jsx)(W.Slottable,{children:s}),(0,n.jsx)(eH,{contentRef:l})]})})})});eP.displayName=eF;var ek="AlertDialogTitle",eT=a.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...a}=e,s=eC(r);return(0,n.jsx)(ed,{...s,...a,ref:t})});eT.displayName=ek;var eI="AlertDialogDescription",eA=a.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...a}=e,s=eC(r);return(0,n.jsx)(eu,{...s,...a,ref:t})});eA.displayName=eI;var eL=a.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...a}=e,s=eC(r);return(0,n.jsx)(ep,{...s,...a,ref:t})});eL.displayName="AlertDialogAction";var eO="AlertDialogCancel",eM=a.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...a}=e,{cancelRef:s}=eS(eO,r),o=eC(r),i=(0,m.useComposedRefs)(t,s);return(0,n.jsx)(ep,{...o,...a,ref:i})});eM.displayName=eO;var eH=({contentRef:e})=>{let t=`\`${eF}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${eF}\` by passing a \`${eI}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${eF}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return a.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},e_=e.i(76832);let e$=a.forwardRef(({className:e,...t},r)=>(0,n.jsx)(eR,{className:(0,e_.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));e$.displayName=eR.displayName;let eW=a.forwardRef(({className:e,...t},r)=>(0,n.jsxs)(eN,{children:[(0,n.jsx)(e$,{}),(0,n.jsx)(eP,{ref:r,className:(0,e_.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));eW.displayName=eP.displayName;let ez=({className:e,...t})=>(0,n.jsx)("div",{className:(0,e_.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...t});ez.displayName="AlertDialogHeader";let eB=({className:e,...t})=>(0,n.jsx)("div",{className:(0,e_.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});eB.displayName="AlertDialogFooter";let eV=a.forwardRef(({className:e,...t},r)=>(0,n.jsx)(eT,{ref:r,className:(0,e_.cn)("text-lg font-semibold",e),...t}));eV.displayName=eT.displayName;let eK=a.forwardRef(({className:e,...t},r)=>(0,n.jsx)(eA,{ref:r,className:(0,e_.cn)("text-sm text-muted-foreground",e),...t}));eK.displayName=eA.displayName;let eU=a.forwardRef(({className:e,...t},r)=>(0,n.jsx)(eL,{ref:r,className:(0,e_.cn)((0,l.buttonVariants)(),e),...t}));eU.displayName=eL.displayName;let eq=a.forwardRef(({className:e,...t},r)=>(0,n.jsx)(eM,{ref:r,className:(0,e_.cn)((0,l.buttonVariants)({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));eq.displayName=eM.displayName;var eY=e.i(21318),eJ=e.i(3614),eZ=e.i(91493),eG=e.i(42792),eX=e.i(88442),eQ=e.i(97167),e0=e.i(69496),e1=e.i(4126);function e2({jobId:e}){let{user:t}=(0,eJ.useAuth)(),{toast:r}=(0,eX.useToast)(),p=!e,[m,v]=(0,a.useState)(!1),[h,g]=(0,a.useState)(!1),y=(0,a.useMemo)(()=>i.object({analysisType:i.coerce.number({required_error:"Please select an analysis type."}),topology:i.any().optional(),configuration:i.any().optional(),otherFile1:i.any().optional(),otherFile2:i.any().optional(),bool1:i.boolean().optional(),int1:i.coerce.number().optional(),str1:i.string().optional(),str2:i.string().optional(),double1:i.coerce.number().optional(),inlist:i.string().optional(),cpus:i.coerce.number().int().positive().optional()}).superRefine((e,t)=>{if(void 0===e.analysisType)return;let r=eG.ANALYSIS_OPTIONS.find(t=>t.value===e.analysisType);if(r)for(let n of r.files)!n.required||!p&&("topology"===n.name||"configuration"===n.name)||e[n.name]instanceof File||t.addIssue({code:i.ZodIssueCode.custom,path:[n.name],message:`${n.label} is required.`})}),[p]),x=(0,o.useForm)({resolver:(0,s.zodResolver)(y),defaultValues:{cpus:1,bool1:!1}}),b=x.watch("analysisType"),j=(0,a.useMemo)(()=>eG.ANALYSIS_OPTIONS.find(e=>e.value===b),[b]),w=async n=>{if(!t||!j)return;let a={userID:t.id,analysisType:n.analysisType,cpus:n.cpus||1,bool1:n.bool1,int1:n.int1,str1:n.str1,str2:n.str2,double1:n.double1,inlist:n.inlist,topology:n.topology instanceof File?n.topology:void 0,configuration:n.configuration instanceof File?n.configuration:void 0,otherFile1:n.otherFile1 instanceof File?n.otherFile1:void 0,otherFile2:n.otherFile2 instanceof File?n.otherFile2:void 0};p||(a.jobUuid=e,a.jobLocation=e);try{let e=await eZ.api.startAnalysisJob(a);r({title:"Analysis Job Submitted",description:`${j.label} analysis started with ID: ${e}.`}),x.reset({...x.getValues(),str1:"",str2:"",int1:void 0,double1:void 0,bool1:!1})}catch(e){console.error("Failed to submit analysis job:",e),r({title:"Submission Failed",description:e.message||"An unknown error occurred.",variant:"destructive"})}},C=async t=>{if(p||!e||!j?.outputFile)return void await w(t);g(!0);try{(await eZ.api.listJobFiles(e)).files.includes(j.outputFile)?v(!0):await w(t)}catch(e){r({title:"Could not check for existing files.",description:"Proceeding with submission...",variant:"default"}),await w(t)}finally{g(!1)}};return(0,n.jsxs)(d.Form,{...x,children:[(0,n.jsx)(eE,{open:m,onOpenChange:v,children:(0,n.jsxs)(eW,{children:[(0,n.jsxs)(ez,{children:[(0,n.jsx)(eV,{children:"File Already Exists"}),(0,n.jsxs)(eK,{children:["The output file ",(0,n.jsx)("code",{className:"bg-muted px-1 py-0.5 rounded font-semibold",children:j?.outputFile})," already exists for this job. Running this analysis again may overwrite it. Are you sure you want to continue?"]})]}),(0,n.jsxs)(eB,{children:[(0,n.jsx)(eq,{children:"Cancel"}),(0,n.jsx)(eU,{onClick:()=>w(x.getValues()),children:"Yes, Submit Anyway"})]})]})}),(0,n.jsxs)("form",{onSubmit:x.handleSubmit(C),className:"space-y-6",children:[(0,n.jsx)(d.FormField,{control:x.control,name:"analysisType",render:({field:e})=>(0,n.jsxs)(d.FormItem,{children:[(0,n.jsx)(d.FormLabel,{children:"Analysis Type"}),(0,n.jsxs)(f.Select,{onValueChange:t=>e.onChange(Number(t)),defaultValue:e.value?.toString(),children:[(0,n.jsx)(d.FormControl,{children:(0,n.jsx)(f.SelectTrigger,{children:(0,n.jsx)(f.SelectValue,{placeholder:"Select an analysis protocol..."})})}),(0,n.jsx)(f.SelectContent,{children:eG.ANALYSIS_OPTIONS.map(e=>(0,n.jsxs)(f.SelectItem,{value:String(e.value),children:[e.label," (",e.command,")"]},e.value))})]}),j&&(0,n.jsx)(d.FormDescription,{children:j.description}),(0,n.jsx)(d.FormMessage,{})]})}),j&&(0,n.jsxs)(e0.Card,{className:"border-dashed",children:[(0,n.jsx)(e0.CardHeader,{children:(0,n.jsxs)(e0.CardTitle,{children:["Parameters for: ",j.label]})}),(0,n.jsxs)(e0.CardContent,{className:"space-y-4",children:[j.files.map(e=>{let t=!p&&("topology"===e.name||"configuration"===e.name);return(0,n.jsx)(d.FormField,{control:x.control,name:e.name,render:({field:r})=>(0,n.jsxs)(d.FormItem,{children:[(0,n.jsxs)(d.FormLabel,{children:[e.label," ",e.required&&!t&&(0,n.jsx)("span",{className:"text-destructive",children:"*"})]}),t?(0,n.jsx)("div",{className:"text-sm p-3 bg-muted rounded-md border text-muted-foreground",children:"âœ“ Using file from the original simulation job."}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.FormControl,{children:(0,n.jsx)(c.Input,{type:"file",onChange:t=>{var r;let n;return r=e.name,n=t.target.files?.[0],void x.setValue(r,n||null,{shouldValidate:!0})}})}),(0,n.jsx)(d.FormDescription,{children:e.description}),(0,n.jsx)(d.FormMessage,{})]})]})},e.name)}),j.params.map(e=>(0,n.jsx)(d.FormField,{control:x.control,name:e.backendName,render:({field:t})=>(0,n.jsxs)(d.FormItem,{children:[(0,n.jsx)(d.FormLabel,{children:e.label}),"boolean"===e.type?(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(d.FormControl,{children:(0,n.jsx)(u.Switch,{checked:!!t.value,onCheckedChange:t.onChange})}),e.description&&(0,n.jsx)("span",{className:"text-sm text-muted-foreground",children:e.description})]}):"textarea"===e.type?(0,n.jsx)(d.FormControl,{children:(0,n.jsx)(eY.Textarea,{placeholder:e.description,...t,value:String(t.value??"")})}):(0,n.jsx)(d.FormControl,{children:(0,n.jsx)(c.Input,{type:e.type,placeholder:e.description,...t,value:String(t.value??"")})}),(0,n.jsx)(d.FormMessage,{})]})},e.name))]})]}),(0,n.jsx)(e1.Separator,{}),(0,n.jsx)("div",{className:"flex justify-end",children:(0,n.jsxs)(l.Button,{type:"submit",size:"lg",disabled:!j||x.formState.isSubmitting||h,children:[(0,n.jsx)(eQ.Send,{className:"mr-2 h-5 w-5"}),x.formState.isSubmitting||h?"Submitting...":"Submit Analysis"]})})]})]})}e.s(["default",()=>e2],82681)}]);