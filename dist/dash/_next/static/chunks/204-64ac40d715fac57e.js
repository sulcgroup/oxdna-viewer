"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[204],{22346:(e,a,t)=>{t.d(a,{Separator:()=>n});var s=t(95155),l=t(12115),r=t(87489),i=t(59434);let n=l.forwardRef((e,a)=>{let{className:t,orientation:l="horizontal",decorative:n=!0,...o}=e;return(0,s.jsx)(r.b,{ref:a,decorative:n,orientation:l,className:(0,i.cn)("shrink-0 bg-border","horizontal"===l?"h-[1px] w-full":"h-full w-[1px]",t),...o})});n.displayName=r.b.displayName},59409:(e,a,t)=>{t.d(a,{bq:()=>m,eb:()=>h,gC:()=>x,l6:()=>c,yv:()=>u});var s=t(95155),l=t(12115),r=t(31992),i=t(79556),n=t(77381),o=t(10518),d=t(59434);let c=r.bL;r.YJ;let u=r.WT,m=l.forwardRef((e,a)=>{let{className:t,children:l,...n}=e;return(0,s.jsxs)(r.l9,{ref:a,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[l,(0,s.jsx)(r.In,{asChild:!0,children:(0,s.jsx)(i.A,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=r.l9.displayName;let f=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,s.jsx)(r.PP,{ref:a,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",t),...l,children:(0,s.jsx)(n.A,{className:"h-4 w-4"})})});f.displayName=r.PP.displayName;let p=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,s.jsx)(r.wn,{ref:a,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",t),...l,children:(0,s.jsx)(i.A,{className:"h-4 w-4"})})});p.displayName=r.wn.displayName;let x=l.forwardRef((e,a)=>{let{className:t,children:l,position:i="popper",...n}=e;return(0,s.jsx)(r.ZL,{children:(0,s.jsxs)(r.UC,{ref:a,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:i,...n,children:[(0,s.jsx)(f,{}),(0,s.jsx)(r.LM,{className:(0,d.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l}),(0,s.jsx)(p,{})]})})});x.displayName=r.UC.displayName,l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,s.jsx)(r.JU,{ref:a,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...l})}).displayName=r.JU.displayName;let h=l.forwardRef((e,a)=>{let{className:t,children:l,...i}=e;return(0,s.jsxs)(r.q7,{ref:a,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...i,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(r.VF,{children:(0,s.jsx)(o.A,{className:"h-4 w-4"})})}),(0,s.jsx)(r.p4,{children:l})]})});h.displayName=r.q7.displayName,l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,s.jsx)(r.wv,{ref:a,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",t),...l})}).displayName=r.wv.displayName},60204:(e,a,t)=>{t.d(a,{default:()=>q});var s=t(95155),l=t(12115),r=t(90221),i=t(62177),n=t(55594),o=t(30285),d=t(17759),c=t(62523),u=t(80333),m=t(59409),f=t(17649),p=t(59434);let x=f.bL;f.l9;let h=f.ZL,b=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,s.jsx)(f.hJ,{className:(0,p.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...l,ref:a})});b.displayName=f.hJ.displayName;let y=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,s.jsxs)(h,{children:[(0,s.jsx)(b,{}),(0,s.jsx)(f.UC,{ref:a,className:(0,p.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...l})]})});y.displayName=f.UC.displayName;let j=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,p.cn)("flex flex-col space-y-2 text-center sm:text-left",a),...t})};j.displayName="AlertDialogHeader";let g=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,p.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...t})};g.displayName="AlertDialogFooter";let N=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,s.jsx)(f.hE,{ref:a,className:(0,p.cn)("text-lg font-semibold",t),...l})});N.displayName=f.hE.displayName;let v=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,s.jsx)(f.VY,{ref:a,className:(0,p.cn)("text-sm text-muted-foreground",t),...l})});v.displayName=f.VY.displayName;let w=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,s.jsx)(f.rc,{ref:a,className:(0,p.cn)((0,o.r)(),t),...l})});w.displayName=f.rc.displayName;let k=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,s.jsx)(f.ZD,{ref:a,className:(0,p.cn)((0,o.r)({variant:"outline"}),"mt-2 sm:mt-0",t),...l})});k.displayName=f.ZD.displayName;var F=t(88539),R=t(40283),C=t(25731),z=t(91950),S=t(87481),A=t(73672),J=t(66695),T=t(22346);let V=e=>n.Ik({analysisType:n.au.number({required_error:"Please select an analysis type."}),topology:n.bz().optional(),configuration:n.bz().optional(),otherFile1:n.bz().optional(),otherFile2:n.bz().optional(),bool1:n.zM().optional(),int1:n.au.number().optional(),str1:n.Yj().optional(),str2:n.Yj().optional(),double1:n.au.number().optional(),inlist:n.Yj().optional(),cpus:n.au.number().int().positive().optional()}).superRefine((a,t)=>{if(void 0===a.analysisType)return;let s=z.W9.find(e=>e.value===a.analysisType);if(s)for(let l of s.files)!l.required||!e&&("topology"===l.name||"configuration"===l.name)||a[l.name]instanceof File||t.addIssue({code:n.eq.custom,path:[l.name],message:"".concat(l.label," is required.")})});function q(e){let{jobId:a}=e,{user:t}=(0,R.A)(),{toast:n}=(0,S.dj)(),f=!a,[p,h]=(0,l.useState)(!1),[b,q]=(0,l.useState)(!1),M=(0,l.useMemo)(()=>V(f),[f]),I=(0,i.mN)({resolver:(0,r.u)(M),defaultValues:{cpus:1,bool1:!1}}),L=I.watch("analysisType"),U=(0,l.useMemo)(()=>z.W9.find(e=>e.value===L),[L]),P=(e,a)=>{var t;let s=null==(t=e.target.files)?void 0:t[0];I.setValue(a,s||null,{shouldValidate:!0})},Y=async e=>{if(!t||!U)return;let s={userID:t.id,analysisType:e.analysisType,cpus:e.cpus||1,bool1:e.bool1,int1:e.int1,str1:e.str1,str2:e.str2,double1:e.double1,inlist:e.inlist,topology:e.topology instanceof File?e.topology:void 0,configuration:e.configuration instanceof File?e.configuration:void 0,otherFile1:e.otherFile1 instanceof File?e.otherFile1:void 0,otherFile2:e.otherFile2 instanceof File?e.otherFile2:void 0};f||(s.jobUuid=a,s.jobLocation=a);try{let e=await C.F.startAnalysisJob(s);n({title:"Analysis Job Submitted",description:"".concat(U.label," analysis started with ID: ").concat(e,".")}),I.reset({...I.getValues(),str1:"",str2:"",int1:void 0,double1:void 0,bool1:!1})}catch(e){console.error("Failed to submit analysis job:",e),n({title:"Submission Failed",description:e.message||"An unknown error occurred.",variant:"destructive"})}},D=async e=>{if(f||!a||!(null==U?void 0:U.outputFile))return void await Y(e);q(!0);try{(await C.F.listJobFiles(a)).includes(U.outputFile)?h(!0):await Y(e)}catch(a){n({title:"Could not check for existing files.",description:"Proceeding with submission...",variant:"default"}),await Y(e)}finally{q(!1)}};return(0,s.jsxs)(d.lV,{...I,children:[(0,s.jsx)(x,{open:p,onOpenChange:h,children:(0,s.jsxs)(y,{children:[(0,s.jsxs)(j,{children:[(0,s.jsx)(N,{children:"File Already Exists"}),(0,s.jsxs)(v,{children:["The output file ",(0,s.jsx)("code",{className:"bg-muted px-1 py-0.5 rounded font-semibold",children:null==U?void 0:U.outputFile})," already exists for this job. Running this analysis again may overwrite it. Are you sure you want to continue?"]})]}),(0,s.jsxs)(g,{children:[(0,s.jsx)(k,{children:"Cancel"}),(0,s.jsx)(w,{onClick:()=>Y(I.getValues()),children:"Yes, Submit Anyway"})]})]})}),(0,s.jsxs)("form",{onSubmit:I.handleSubmit(D),className:"space-y-6",children:[(0,s.jsx)(d.zB,{control:I.control,name:"analysisType",render:e=>{var a;let{field:t}=e;return(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{children:"Analysis Type"}),(0,s.jsxs)(m.l6,{onValueChange:e=>t.onChange(Number(e)),defaultValue:null==(a=t.value)?void 0:a.toString(),children:[(0,s.jsx)(d.MJ,{children:(0,s.jsx)(m.bq,{children:(0,s.jsx)(m.yv,{placeholder:"Select an analysis protocol..."})})}),(0,s.jsx)(m.gC,{children:z.W9.map(e=>(0,s.jsxs)(m.eb,{value:String(e.value),children:[e.label," (",e.command,")"]},e.value))})]}),U&&(0,s.jsx)(d.Rr,{children:U.description}),(0,s.jsx)(d.C5,{})]})}}),U&&(0,s.jsxs)(J.Zp,{className:"border-dashed",children:[(0,s.jsx)(J.aR,{children:(0,s.jsxs)(J.ZB,{children:["Parameters for: ",U.label]})}),(0,s.jsxs)(J.Wu,{className:"space-y-4",children:[U.files.map(e=>{let a=!f&&("topology"===e.name||"configuration"===e.name);return(0,s.jsx)(d.zB,{control:I.control,name:e.name,render:t=>{let{field:l}=t;return(0,s.jsxs)(d.eI,{children:[(0,s.jsxs)(d.lR,{children:[e.label," ",e.required&&!a&&(0,s.jsx)("span",{className:"text-destructive",children:"*"})]}),a?(0,s.jsx)("div",{className:"text-sm p-3 bg-muted rounded-md border text-muted-foreground",children:"âœ“ Using file from the original simulation job."}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.MJ,{children:(0,s.jsx)(c.p,{type:"file",onChange:a=>P(a,e.name)})}),(0,s.jsx)(d.Rr,{children:e.description}),(0,s.jsx)(d.C5,{})]})]})}},e.name)}),U.params.map(e=>(0,s.jsx)(d.zB,{control:I.control,name:e.backendName,render:a=>{var t,l;let{field:r}=a;return(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{children:e.label}),"boolean"===e.type?(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(d.MJ,{children:(0,s.jsx)(u.d,{checked:r.value,onCheckedChange:r.onChange})}),e.description&&(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:e.description})]}):"textarea"===e.type?(0,s.jsx)(d.MJ,{children:(0,s.jsx)(F.T,{placeholder:e.description,...r,value:null!=(t=r.value)?t:""})}):(0,s.jsx)(d.MJ,{children:(0,s.jsx)(c.p,{type:e.type,placeholder:e.description,...r,value:null!=(l=r.value)?l:""})}),(0,s.jsx)(d.C5,{})]})}},e.name))]})]}),(0,s.jsx)(T.Separator,{}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsxs)(o.$,{type:"submit",size:"lg",disabled:!U||I.formState.isSubmitting||b,children:[(0,s.jsx)(A.A,{className:"mr-2 h-5 w-5"}),I.formState.isSubmitting||b?"Submitting...":"Submit Analysis"]})})]})]})}},80333:(e,a,t)=>{t.d(a,{d:()=>n});var s=t(95155),l=t(12115),r=t(4884),i=t(59434);let n=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,s.jsx)(r.bL,{className:(0,i.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...l,ref:a,children:(0,s.jsx)(r.zi,{className:(0,i.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});n.displayName=r.bL.displayName},88539:(e,a,t)=>{t.d(a,{T:()=>i});var s=t(95155),l=t(12115),r=t(59434);let i=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,s.jsx)("textarea",{className:(0,r.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...l})});i.displayName="Textarea"}}]);