(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[189],{2717:(e,t,r)=>{Promise.resolve().then(r.bind(r,58719))},10549:(e,t,r)=>{"use strict";r.d(t,{$m:()=>c,As:()=>d,nD:()=>o,ub:()=>u});var s=r(95155),n=r(12115),i=r(23478),l=r(79556),a=r(59434);let o=i.bL,d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(i.q7,{ref:t,className:(0,a.cn)("border-b",r),...n})});d.displayName="AccordionItem";let c=n.forwardRef((e,t)=>{let{className:r,children:n,...o}=e;return(0,s.jsx)(i.Y9,{className:"flex",children:(0,s.jsxs)(i.l9,{ref:t,className:(0,a.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",r),...o,children:[n,(0,s.jsx)(l.A,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})});c.displayName=i.l9.displayName;let u=n.forwardRef((e,t)=>{let{className:r,children:n,...l}=e;return(0,s.jsx)(i.UC,{ref:t,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...l,children:(0,s.jsx)("div",{className:(0,a.cn)("pb-4 pt-0",r),children:n})})});u.displayName=i.UC.displayName},17759:(e,t,r)=>{"use strict";r.d(t,{C5:()=>g,MJ:()=>f,Rr:()=>j,eI:()=>x,lR:()=>h,lV:()=>d,zB:()=>u});var s=r(95155),n=r(12115),i=r(99708),l=r(62177),a=r(59434),o=r(85057);let d=l.Op,c=n.createContext({}),u=e=>{let{...t}=e;return(0,s.jsx)(c.Provider,{value:{name:t.name},children:(0,s.jsx)(l.xI,{...t})})},m=()=>{let e=n.useContext(c),t=n.useContext(p),{getFieldState:r,formState:s}=(0,l.xW)(),i=r(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:a}=t;return{id:a,name:e.name,formItemId:"".concat(a,"-form-item"),formDescriptionId:"".concat(a,"-form-item-description"),formMessageId:"".concat(a,"-form-item-message"),...i}},p=n.createContext({}),x=n.forwardRef((e,t)=>{let{className:r,...i}=e,l=n.useId();return(0,s.jsx)(p.Provider,{value:{id:l},children:(0,s.jsx)("div",{ref:t,className:(0,a.cn)("space-y-2",r),...i})})});x.displayName="FormItem";let h=n.forwardRef((e,t)=>{let{className:r,...n}=e,{error:i,formItemId:l}=m();return(0,s.jsx)(o.J,{ref:t,className:(0,a.cn)(i&&"text-destructive",r),htmlFor:l,...n})});h.displayName="FormLabel";let f=n.forwardRef((e,t)=>{let{...r}=e,{error:n,formItemId:l,formDescriptionId:a,formMessageId:o}=m();return(0,s.jsx)(i.DX,{ref:t,id:l,"aria-describedby":n?"".concat(a," ").concat(o):"".concat(a),"aria-invalid":!!n,...r})});f.displayName="FormControl";let j=n.forwardRef((e,t)=>{let{className:r,...n}=e,{formDescriptionId:i}=m();return(0,s.jsx)("p",{ref:t,id:i,className:(0,a.cn)("text-sm text-muted-foreground",r),...n})});j.displayName="FormDescription";let g=n.forwardRef((e,t)=>{var r;let{className:n,children:i,...l}=e,{error:o,formMessageId:d}=m(),c=o?String(null!=(r=null==o?void 0:o.message)?r:""):i;return c?(0,s.jsx)("p",{ref:t,id:d,className:(0,a.cn)("text-sm font-medium text-destructive",n),...l,children:c}):null});g.displayName="FormMessage"},22346:(e,t,r)=>{"use strict";r.d(t,{Separator:()=>a});var s=r(95155),n=r(12115),i=r(87489),l=r(59434);let a=n.forwardRef((e,t)=>{let{className:r,orientation:n="horizontal",decorative:a=!0,...o}=e;return(0,s.jsx)(i.b,{ref:t,decorative:a,orientation:n,className:(0,l.cn)("shrink-0 bg-border","horizontal"===n?"h-[1px] w-full":"h-full w-[1px]",r),...o})});a.displayName=i.b.displayName},30356:(e,t,r)=>{"use strict";r.d(t,{C:()=>d,z:()=>o});var s=r(95155),n=r(12115),i=r(54059),l=r(70154),a=r(59434);let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(i.bL,{className:(0,a.cn)("grid gap-2",r),...n,ref:t})});o.displayName=i.bL.displayName;let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(i.q7,{ref:t,className:(0,a.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),...n,children:(0,s.jsx)(i.C1,{className:"flex items-center justify-center",children:(0,s.jsx)(l.A,{className:"h-2.5 w-2.5 fill-current text-current"})})})});d.displayName=i.q7.displayName},46102:(e,t,r)=>{"use strict";r.d(t,{Bc:()=>a,ZI:()=>c,k$:()=>d,m_:()=>o});var s=r(95155),n=r(12115),i=r(89613),l=r(59434);let a=i.Kq,o=i.bL,d=i.l9,c=n.forwardRef((e,t)=>{let{className:r,sideOffset:n=4,...a}=e;return(0,s.jsx)(i.UC,{ref:t,sideOffset:n,className:(0,l.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...a})});c.displayName=i.UC.displayName},58719:(e,t,r)=>{"use strict";r.d(t,{default:()=>_});var s=r(95155),n=r(12115),i=r(90221),l=r(62177),a=r(55594),o=r(30285),d=r(17759),c=r(62523),u=r(80333),m=r(30356),p=r(10549),x=r(40283),h=r(25731),f=r(91950),j=r(87481),g=r(16923),b=r(68718),y=r(73672),v=r(66695),N=r(22346),w=r(80534),C=r(91540),R=r(67063),I=r(46102);let M=a.Ik({jobName:a.Yj().optional(),samplingType:a.k5(["Umbrella","ForwardFlux"],{required_error:"You must select a sampling type."}),topology:a.bz().refine(e=>e instanceof File,"Topology file is required."),configuration:a.bz().refine(e=>e instanceof File,"Configuration file is required."),testPreEq:a.zM(),nucleotideIndexes0:a.Yj().min(1,"This field is required."),nucleotideIndexes1:a.Yj().min(1,"This field is required."),xmin:a.au.number(),xmax:a.au.number(),steps:a.au.number().int().positive("Must be a positive number"),cpuRun:a.zM(),T:a.Yj().min(1,"Temperature is required."),saltConc:a.au.number(),nWindows:a.au.number().int().positive("Must be a positive number"),stiff:a.au.number(),cpus:a.au.number().int().positive("Must be a positive number"),protein:a.bz().optional(),sequenceDependent:a.zM(),pullingSteps:a.au.number().int().positive("Must be a positive number"),eqSteps:a.au.number().int().positive("Must be a positive number"),meltingTemperature:a.zM(),forceFile:a.bz().optional()});function _(){let{user:e}=(0,x.A)(),{toast:t}=(0,j.dj)(),[r,a]=n.useState(!1),_=(0,l.mN)({resolver:(0,i.u)(M),defaultValues:f.eg});n.useEffect(()=>{let e=sessionStorage.getItem("enhancedSamplingForm");if(e){let t=Object.entries(JSON.parse(e)).reduce((e,t)=>{let[r,s]=t;return["topology","configuration","protein","forceFile"].includes(r)||(e[r]=s),e},{});_.reset(t)}},[_.reset]),n.useEffect(()=>{let e=_.watch(e=>{let t={...e};delete t.topology,delete t.configuration,delete t.protein,delete t.forceFile,sessionStorage.setItem("enhancedSamplingForm",JSON.stringify(t))});return()=>e.unsubscribe()},[_.watch]);let F=async e=>{var r;let s=null==(r=e.target.files)?void 0:r[0];if(s)try{let e=await s.text(),r=w.Hh(e);r.jobName&&_.setValue("jobName",r.jobName),r.nucleotide_indexes_0&&_.setValue("nucleotideIndexes0",r.nucleotide_indexes_0),r.nucleotide_indexes_1&&_.setValue("nucleotideIndexes1",r.nucleotide_indexes_1),r.xmin&&_.setValue("xmin",r.xmin),r.xmax&&_.setValue("xmax",r.xmax),r.stiff&&_.setValue("stiff",r.stiff),r.celcius&&_.setValue("T",String(r.celcius)),r.molarity&&_.setValue("saltConc",r.molarity),r.sequence_dependent&&_.setValue("sequenceDependent",r.sequence_dependent),r.pulling_steps&&_.setValue("pullingSteps",r.pulling_steps),r.equilibration_steps&&_.setValue("eqSteps",r.equilibration_steps),r.production_steps&&_.setValue("steps",r.production_steps),r.test_pulling&&_.setValue("testPreEq",r.test_pulling),r.cpu_run&&_.setValue("cpuRun",r.cpu_run),r.n_cpus&&_.setValue("cpus",r.n_cpus),r.n_windows&&_.setValue("nWindows",r.n_windows),t({title:"YAML file loaded",description:"Form fields have been populated from the uploaded YAML file."})}catch(e){console.error("Error parsing YAML file:",e),t({title:"Error loading YAML file",description:"Could not parse the YAML file. Please check the file format.",variant:"destructive"})}},S=_.watch("nWindows");n.useEffect(()=>{S&&S>0&&_.setValue("cpus",S)},[S,_.setValue]);let q=async(e,r)=>{var s;let n=null==(s=e.target.files)?void 0:s[0];if(n&&(_.setValue(r,n,{shouldValidate:!0}),"topology"===r))try{let e=(await n.text()).split("\n")[0].trim(),r=parseInt(e.split(" ")[0]);if(!isNaN(r)){let e=r>500;_.setValue("cpuRun",!e),t({title:"GPU Setting Updated",description:"Detected ".concat(r," nucleotides. GPU ").concat(e?"enabled":"disabled"," automatically.")})}}catch(e){console.error("Error reading topology file:",e)}};async function z(r){if(!e)return void t({title:"Authentication Error",description:"You must be logged in to submit a job.",variant:"destructive"});let s=parseInt(r.T,10);if(isNaN(s))return void t({title:"Invalid Temperature",description:"Please enter a valid number for temperature.",variant:"destructive"});let n={...r,userID:e.id,T:s,cpus:r.cpus,topology:r.topology,configuration:r.configuration,protein:r.protein instanceof File?r.protein:void 0,forceFile:r.forceFile instanceof File?r.forceFile:void 0};try{let e=await h.F.runEnhancedSamplingJob(n);t({title:"Enhanced Sampling Job Submitted",description:"Job submitted. Backend responded with: ".concat(e)}),_.reset(f.eg),sessionStorage.removeItem("enhancedSamplingForm")}catch(e){console.error("Failed to submit enhanced sampling job:",e),t({title:"Submission Failed",description:e.message||"An unknown error occurred.",variant:"destructive"})}}let E=_.watch("topology"),k=_.watch("configuration"),B=_.watch("nucleotideIndexes0"),V=_.watch("nucleotideIndexes1");return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.lV,{..._,children:(0,s.jsxs)("form",{onSubmit:_.handleSubmit(z),className:"space-y-8",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)(v.Zp,{children:[(0,s.jsx)(v.aR,{children:(0,s.jsx)(v.ZB,{className:"font-headline text-lg",children:"Required Parameters"})}),(0,s.jsxs)(v.Wu,{className:"space-y-4",children:[(0,s.jsx)(d.zB,{control:_.control,name:"jobName",render:e=>{var t;let{field:r}=e;return(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{children:"Job Name"}),(0,s.jsx)(d.MJ,{children:(0,s.jsx)(c.p,{placeholder:"A descriptive name for your job",...r,value:null!=(t=r.value)?t:""})}),(0,s.jsx)(d.Rr,{children:"Provide a descriptive name for your job to easily identify it in your job history."}),(0,s.jsx)(d.C5,{})]})}}),(0,s.jsx)(d.zB,{control:_.control,name:"samplingType",render:e=>{let{field:t}=e;return(0,s.jsxs)(d.eI,{className:"space-y-3",children:[(0,s.jsx)(d.lR,{children:"Sampling Type"}),(0,s.jsx)(d.MJ,{children:(0,s.jsxs)(m.z,{onValueChange:t.onChange,defaultValue:t.value,className:"flex space-x-4",children:[(0,s.jsxs)(d.eI,{className:"flex items-center space-x-2",children:[(0,s.jsx)(d.MJ,{children:(0,s.jsx)(m.C,{value:"Umbrella"})}),(0,s.jsx)(d.lR,{className:"font-normal",children:"Umbrella Sampling"})]}),(0,s.jsxs)(d.eI,{className:"flex items-center space-x-2",children:[(0,s.jsx)(d.MJ,{children:(0,s.jsx)(m.C,{value:"ForwardFlux"})}),(0,s.jsx)(d.lR,{className:"font-normal",children:"Forward Flux"})]})]})}),(0,s.jsx)(d.C5,{})]})}}),(0,s.jsx)(d.zB,{control:_.control,name:"topology",render:()=>(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{children:"Topology File"}),(0,s.jsx)(d.MJ,{children:(0,s.jsx)(c.p,{type:"file",onChange:e=>q(e,"topology")})}),(0,s.jsx)(d.Rr,{children:"Upload the oxDNA topology file (`.top`) that defines the structure and connectivity of your system."}),(0,s.jsx)(d.C5,{})]})}),(0,s.jsx)(d.zB,{control:_.control,name:"configuration",render:()=>(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{children:"Configuration File"}),(0,s.jsx)(d.MJ,{children:(0,s.jsx)(c.p,{type:"file",onChange:e=>q(e,"configuration")})}),(0,s.jsx)(d.Rr,{children:"Upload an equilibrated oxDNA conformation file (`.dat`) representing the starting state of your simulation."}),(0,s.jsx)(d.C5,{})]})}),(0,s.jsx)(d.zB,{control:_.control,name:"nucleotideIndexes0",render:e=>{let{field:t}=e;return(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{children:"Nucleotide Indexes 0"}),(0,s.jsx)(d.MJ,{children:(0,s.jsx)(c.p,{placeholder:"10, 11, 12, 16, 9",...t})}),(0,s.jsx)(d.Rr,{children:"Enter the comma-separated particle IDs (from oxView) that define the first group for distance measurement (center of mass 0)."}),(0,s.jsx)(d.C5,{})]})}}),(0,s.jsx)(d.zB,{control:_.control,name:"nucleotideIndexes1",render:e=>{let{field:t}=e;return(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{children:"Nucleotide Indexes 1"}),(0,s.jsx)(d.MJ,{children:(0,s.jsx)(c.p,{placeholder:"14, 21, 30",...t})}),(0,s.jsx)(d.Rr,{children:"Enter the comma-separated particle IDs (from oxView) that define the second group for distance measurement (center of mass 1)."}),(0,s.jsx)(d.C5,{})]})}}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsx)(d.zB,{control:_.control,name:"xmin",render:e=>{let{field:t}=e;return(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{children:"X Minimum"}),(0,s.jsx)(d.MJ,{children:(0,s.jsx)(c.p,{type:"number",step:"0.01",...t})}),(0,s.jsx)(d.C5,{})]})}}),(0,s.jsx)(d.zB,{control:_.control,name:"xmax",render:e=>{let{field:t}=e;return(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{children:"X Maximum"}),(0,s.jsx)(d.MJ,{children:(0,s.jsx)(c.p,{type:"number",step:"0.01",...t})}),(0,s.jsx)(d.C5,{})]})}})]}),(0,s.jsx)(d.zB,{control:_.control,name:"testPreEq",render:e=>{let{field:t}=e;return(0,s.jsxs)(d.eI,{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm",children:[(0,s.jsxs)("div",{className:"space-y-0.5",children:[(0,s.jsx)(d.lR,{children:"Test Pre-Equilibration"}),(0,s.jsx)(d.Rr,{children:"Perform a short, non-equilibrium pulling simulation to test the reaction coordinate. Highly recommended."})]}),(0,s.jsx)(d.MJ,{children:(0,s.jsx)(u.d,{checked:t.value,onCheckedChange:t.onChange})})]})}})]})]})}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(v.Zp,{children:[(0,s.jsx)(v.aR,{children:(0,s.jsx)(v.ZB,{className:"font-headline text-lg",children:"Key Arguments"})}),(0,s.jsxs)(v.Wu,{className:"space-y-4",children:[(0,s.jsx)(d.zB,{control:_.control,name:"steps",render:e=>{let{field:t}=e;return(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{children:"Production Steps"}),(0,s.jsx)(d.MJ,{children:(0,s.jsx)(c.p,{type:"number",...t})}),(0,s.jsx)(d.Rr,{children:"The number of simulation steps for the production run in each window. More steps lead to better statistics but require more computation time."}),(0,s.jsx)(d.C5,{})]})}}),(0,s.jsx)(d.zB,{control:_.control,name:"T",render:e=>{let{field:t}=e;return(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{children:"Temperature (\xb0C)"}),(0,s.jsx)(d.MJ,{children:(0,s.jsx)(c.p,{placeholder:"e.g., 37",...t})}),(0,s.jsx)(d.Rr,{children:"The temperature (in Celsius) at which the simulation will be performed. "}),(0,s.jsx)(d.C5,{})]})}}),(0,s.jsx)(d.zB,{control:_.control,name:"saltConc",render:e=>{let{field:t}=e;return(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{children:"Salt Concentration (M)"}),(0,s.jsx)(d.MJ,{children:(0,s.jsx)(c.p,{type:"number",step:"0.01",...t})}),(0,s.jsx)(d.Rr,{children:"Salt concentration in NaCl M (molarity). Affects electrostatic interactions."}),(0,s.jsx)(d.C5,{})]})}}),(0,s.jsx)(d.zB,{control:_.control,name:"nWindows",render:e=>{let{field:t}=e;return(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{children:"Number of Windows"}),(0,s.jsx)(d.MJ,{children:(0,s.jsx)(c.p,{type:"number",...t})}),(0,s.jsx)(d.Rr,{children:"The number of parallel simulations (replicas) to run along the reaction coordinate. "}),(0,s.jsx)(d.C5,{})]})}}),(0,s.jsx)(d.zB,{control:_.control,name:"stiff",render:e=>{let{field:t}=e;return(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{children:"Stiffness of Spring (k)"}),(0,s.jsx)(d.MJ,{children:(0,s.jsx)(c.p,{type:"number",step:"0.1",...t})}),(0,s.jsx)(d.Rr,{children:"The spring constant for the harmonic restraint. Higher values create a stiffer potential, more tightly confining the sampling in each window."}),(0,s.jsx)(d.C5,{})]})}}),(0,s.jsx)(d.zB,{control:_.control,name:"cpus",render:e=>{let{field:t}=e;return(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{children:"CPUs"}),(0,s.jsx)(d.MJ,{children:(0,s.jsx)(c.p,{type:"number",step:"1",min:"1",...t})}),(0,s.jsx)(d.Rr,{children:"Number of CPUs to use. This is automatically set to the number of windows, as each window runs on a separate CPU."}),(0,s.jsx)(d.C5,{})]})}})]})]}),(0,s.jsx)(p.nD,{type:"single",collapsible:!0,className:"w-full",children:(0,s.jsx)(p.As,{value:"item-1",children:(0,s.jsxs)(v.Zp,{children:[(0,s.jsx)(p.$m,{className:"p-6",children:(0,s.jsx)(v.aR,{className:"p-0",children:(0,s.jsx)(v.ZB,{className:"font-headline text-lg",children:"Advanced Parameters"})})}),(0,s.jsx)(p.ub,{children:(0,s.jsxs)(v.Wu,{className:"space-y-4 pt-0",children:[(0,s.jsx)(d.zB,{control:_.control,name:"pullingSteps",render:e=>{let{field:t}=e;return(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{children:"Pulling Steps"}),(0,s.jsx)(d.MJ,{children:(0,s.jsx)(c.p,{type:"number",...t})}),(0,s.jsx)(d.Rr,{children:"Number of steps for the initial, non-equilibrium pulling phase to generate starting conformations for each window."}),(0,s.jsx)(d.C5,{})]})}}),(0,s.jsx)(d.zB,{control:_.control,name:"eqSteps",render:e=>{let{field:t}=e;return(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{children:"Equilibrium Steps"}),(0,s.jsx)(d.MJ,{children:(0,s.jsx)(c.p,{type:"number",...t})}),(0,s.jsx)(d.Rr,{children:"Number of equilibration steps for each window"}),(0,s.jsx)(d.C5,{})]})}}),(0,s.jsx)(d.zB,{control:_.control,name:"protein",render:()=>(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{children:"Protein File (Optional)"}),(0,s.jsx)(d.MJ,{children:(0,s.jsx)(c.p,{type:"file",onChange:e=>q(e,"protein")})}),(0,s.jsx)(d.Rr,{children:"Upload a protein parameter file (`.par`) if your system includes a protein component to be simulated alongside the DNA."}),(0,s.jsx)(d.C5,{})]})}),(0,s.jsx)(d.zB,{control:_.control,name:"forceFile",render:()=>(0,s.jsxs)(d.eI,{children:[(0,s.jsx)(d.lR,{children:"Force File (Optional)"}),(0,s.jsx)(d.MJ,{children:(0,s.jsx)(c.p,{type:"file",onChange:e=>q(e,"forceFile")})}),(0,s.jsx)(d.Rr,{children:"Upload an oxDNA force file to apply additional external forces or restraints during the simulation."}),(0,s.jsx)(d.C5,{})]})})]})})]})})})]})]}),(0,s.jsx)(N.Separator,{}),(0,s.jsxs)("div",{className:"flex items-center gap-4 mt-8",children:[(0,s.jsxs)(o.$,{type:"button",variant:"outline",onClick:()=>{var e;return null==(e=document.getElementById("yaml-upload"))?void 0:e.click()},children:[(0,s.jsx)(g.A,{className:"mr-2 h-4 w-4"}),"Upload YAML"]}),(0,s.jsx)(c.p,{id:"yaml-upload",type:"file",accept:".yaml,.yml",onChange:F,className:"hidden"}),(0,s.jsxs)(o.$,{type:"button",variant:"outline",onClick:()=>{let e=_.getValues(),t={jobName:e.jobName,nucleotide_indexes_0:e.nucleotideIndexes0,nucleotide_indexes_1:e.nucleotideIndexes1,xmin:e.xmin,xmax:e.xmax,stiff:e.stiff,celcius:Number(e.T),molarity:e.saltConc,sequence_dependent:e.sequenceDependent,pulling_steps:e.pullingSteps,equilibration_steps:e.eqSteps,production_steps:e.steps,test_pulling:e.testPreEq,cpu_run:e.cpuRun,n_cpus:e.cpus,n_windows:e.nWindows},r=new Blob([w.Bh(t)],{type:"text/yaml;charset=utf-8"});(0,C.saveAs)(r,"config.yaml")},children:[(0,s.jsx)(b.A,{className:"mr-2 h-4 w-4"}),"Export YAML"]}),(0,s.jsxs)(o.$,{type:"submit",className:"w-full md:w-auto",children:[(0,s.jsx)(y.A,{className:"mr-2 h-4 w-4"})," Submit Job"]})]})]})}),(0,s.jsxs)("div",{className:"mt-8",children:[(0,s.jsx)(I.Bc,{children:(0,s.jsxs)(I.m_,{children:[(0,s.jsx)(I.k$,{asChild:!0,children:(0,s.jsx)("div",{style:{display:"inline-block"},children:(0,s.jsx)(o.$,{onClick:()=>a(!r),disabled:!E||!k,variant:"outline",style:{pointerEvents:E&&k?"auto":"none"},children:r?"Hide Preview":"oxView Preview"})})}),(!E||!k)&&(0,s.jsx)(I.ZI,{children:(0,s.jsx)("p",{children:"Please upload topology and configuration files to show oxView preview"})})]})}),r&&E&&k&&(0,s.jsx)(R.b,{topFile:E,datFile:k,nucleotideIndexes0:B,nucleotideIndexes1:V})]})]})}},66695:(e,t,r)=>{"use strict";r.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>l,aR:()=>a});var s=r(95155),n=r(12115),i=r(59434);let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...n})});l.displayName="Card";let a=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",r),...n})});a.displayName="CardHeader";let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",r),...n})});o.displayName="CardTitle";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",r),...n})});d.displayName="CardDescription";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",r),...n})});c.displayName="CardContent",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",r),...n})}).displayName="CardFooter"},67063:(e,t,r)=>{"use strict";r.d(t,{b:()=>a});var s=r(95155),n=r(12115),i=r(66695);let l=e=>e?/^[0-9,\s]*$/.test(e)?e.split(",").map(e=>parseInt(e.trim(),10)).filter(e=>!isNaN(e)):(console.warn("Invalid characters in nucleotideIndexes. Aborting script generation."),[]):[];function a(e){let{topFile:t,datFile:r,nucleotideIndexes0:a,nucleotideIndexes1:o,height:d="500px",postLoadCommand:c}=e,u=(0,n.useRef)(null);return(0,n.useEffect)(()=>{let e=u.current;if(!(null==e?void 0:e.contentWindow))return;let s=()=>{var s;let n=[{file:t,ext:"top"},{file:r,ext:"dat"}],i=n.map(e=>new Blob([e.file],{type:"text/plain"})),d=n.map(e=>e.ext),u=[],m=l(a);m.length>0&&u.push("colorElements(new THREE.Color(1, 0, 0), api.getElements([".concat(m.join(","),"]))"));let p=l(o);if(p.length>0&&u.push("colorElements(new THREE.Color(0, 0, 1), api.getElements([".concat(p.join(","),"]))")),c&&u.push(c),u.length>0){let e=u.join(";\n");i.push(new Blob([e],{type:"application/javascript"})),d.push("js")}null==(s=e.contentWindow)||s.postMessage({message:"iframe_drop",files:i,ext:d,inbox_settings:["Monomer","Origin"]},"/")};return e.addEventListener("load",s),()=>{e.removeEventListener("load",s)}},[t,r,a,o,c,u]),(0,s.jsxs)(i.Zp,{className:"mt-4",children:[(0,s.jsx)(i.aR,{children:(0,s.jsx)(i.ZB,{children:"Structure Preview"})}),(0,s.jsx)(i.Wu,{children:(0,s.jsx)("iframe",{ref:u,src:"/",width:"100%",height:d,style:{border:"1px solid hsl(var(--border))"},title:"oxDNA Viewer"})})]})}},80333:(e,t,r)=>{"use strict";r.d(t,{d:()=>a});var s=r(95155),n=r(12115),i=r(4884),l=r(59434);let a=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(i.bL,{className:(0,l.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-gray-300 transition-all duration-200 ease-in-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input hover:shadow-md hover:scale-105 data-[state=checked]:shadow-lg data-[state=checked]:shadow-primary/25",r),...n,ref:t,children:(0,s.jsx)(i.zi,{className:(0,l.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-all duration-200 ease-in-out data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0 data-[state=checked]:shadow-xl border border-gray-300")})})});a.displayName=i.bL.displayName}},e=>{var t=t=>e(e.s=t);e.O(0,[268,277,617,324,300,902,9,528,897,509,169,441,303,358],()=>t(2717)),_N_E=e.O()}]);